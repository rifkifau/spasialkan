// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
/*
 MIT
*/
require({cache:{"esri/widgets/LayerList":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/Collection ../core/deprecate ../core/events ../core/Handles ../core/has ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ../libs/sortablejs/Sortable ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./support/widget".split(" "),
function(F,E,z,f,q,a,m,c,u,G,A,l,t,k,h,H,Y,S,O,p){function C(a){var c=a.children;a.actionsOpen&&(a.actionsOpen=!1);c.forEach(function(d){return C(d)})}var y=c.ofType(O),J=t.getLogger("esri.widgets.LayerList"),r={statusIndicators:!0};return function(c){function n(d){d=c.call(this,d)||this;d._handles=new A;d._sortable=null;d._sortableNode=null;d._focusSortUid=null;d._newUI=l("esri-layerlist-new-ui");d.iconClass="esri-icon-layers";d.label=m.widgetLabel;d.listItemCreatedFunction=null;d.multipleSelectionEnabled=
!1;d.operationalItems=null;d.selectionEnabled=!1;d.selectedItems=new y;d.view=null;d.viewModel=new S;d.visibleElements=q({},r);return d}z(n,c);n.prototype.postInitialize=function(){var d=this,B=this.operationalItems;this.own(k.on(this,"operationalItems","change",function(){return d._itemsChanged(B)}),k.init(this,"selectionEnabled",function(){return d._toggleSorting()}))};n.prototype.destroy=function(){this._destroySortable();this._handles.destroy();this._handles=null};Object.defineProperty(n.prototype,
"statusIndicatorsVisible",{set:function(d){u.deprecatedProperty(J,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"});this.visibleElements=q({},this.visibleElements,{statusIndicators:d})},enumerable:!0,configurable:!0});n.prototype.castVisibleElements=function(d){return q({},r,d)};n.prototype.triggerAction=function(d,B){this.viewModel.triggerAction(d,B)};n.prototype.render=function(){var d=this,B,c=this._getItems(),a=this.get("viewModel.state"),c=0===c.length?
p.tsx("div",{class:"esri-layer-list__no-items"},m.noItemsToDisplay):p.tsx("ul",{"aria-label":m.widgetLabel,role:this.selectionEnabled?"listbox":void 0,afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this,class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},c.map(function(B){return d._renderItem(B,null)})),a=(B={},B["esri-layer-list--new-ui"]=this._newUI,B["esri-hidden"]="loading"===
a,B["esri-disabled"]="disabled"===a,B);return p.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",a)},c)};n.prototype._destroySortable=function(){var d=this._sortable;d&&d.destroy();this._sortable=null};n.prototype._toggleSorting=function(){var d=this,B=this._sortable,c=this._sortableNode,a=this.selectionEnabled;if(c)if(B)B.option("disabled",!a);else{var h=H.create(c,{dataIdAttr:"data-layer-uid",group:"root-layers",fallbackTolerance:4,disabled:!a,onSort:function(){return d._sortLayersToItems(h.toArray())}});
this._sortable=h}};n.prototype._sortNodeCreated=function(d){this._sortableNode=d;this._toggleSorting()};n.prototype._sortLayersToItems=function(d){var B=this.get("view.map.layers");B&&B.sort(function(B,c){B=d.indexOf(B.uid);c=d.indexOf(c.uid);return B>c?-1:B<c?1:0})};n.prototype._getItems=function(){var d=this;return this.operationalItems.toArray().filter(function(B){return d.errorsVisible||!B.error})};n.prototype._getSingleActionButton=function(d){return d.actionsSections.reduce(function(d){return d}).filter(function(d){return d&&
"button"===d.type}).getItemAt(0)};n.prototype._renderItem=function(d,B){var c=this,h,f,n,r,k,y,l=this.id+"_"+d.uid,G=l+"_actions",u=l+"__list",l=l+"__title",C=this._newUI,H=!!d.error,K=!!d.children.length&&!H,A=H?m.layerError:"",J=d.visibilityMode,z=d.children&&d.children.toArray(),E=(h={},h["esri-layer-list__list--exclusive"]="exclusive"===J,h["esri-layer-list__list--inherited"]="inherited"===J,h["esri-layer-list__list--independent"]="inherited"!==J&&"exclusive"!==J,h);h=(f={},f["esri-layer-list__item--has-children"]=
K,f["esri-layer-list__item--error"]=!!H,f["esri-layer-list__item--updating"]=d.updating&&!B&&this.visibleElements.statusIndicators,f["esri-layer-list__item--invisible"]=C&&!d.visible,f["esri-layer-list__item--invisible-at-scale"]=!d.visibleAtCurrentScale,f["esri-layer-list__item--selectable"]=this.selectionEnabled,f);var C=this._countActions(d.actionsSections),t=d.panel;f=t&&t.open?t.render():null;var t=t&&t.visible?this._renderPanelButton(t):null,Y=(n={},n["esri-layer-list__item-actions-menu-item--active"]=
d.actionsOpen,n),F=d.actionsOpen?a.close:a.open,S=1===C&&this._getSingleActionButton(d);n=S?this._renderAction({item:d,action:S,singleAction:!0}):null;n=(Y=!S&&C?p.tsx("div",{key:"actions-menu-toggle","data-item":d,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",Y),tabindex:"0",role:"button","aria-controls":G,"aria-label":F,title:F},p.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null)||
t||n?p.tsx("div",{key:"esri-layer-list__actions-menu",class:"esri-layer-list__item-actions-menu"},t,n,Y):null;G=C?this._renderActionsSections(d,d.actionsSections,G):null;J=K?p.tsx("ul",{key:"esri-layer-list__list-items",id:u,class:this.classes("esri-layer-list__list",E),"aria-expanded":d.open?"true":"false",role:"exclusive"===J?"radiogroup":"group",hidden:d.open?null:!0},z.map(function(B){return c._renderItem(B,d)})):null;z=(r={},r["esri-layer-list__child-toggle--open"]=d.open,r);r=d.open?a.collapse:
a.expand;u=K?p.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":d,key:"esri-layer-list__toggle-children",class:this.classes("esri-layer-list__child-toggle",z),tabindex:"0",role:"button","aria-controls":u,"aria-label":r,title:r},p.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),p.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened",
"esri-icon-down-arrow")}),p.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;r=this._createLabelNode(d,B,l);H=H?p.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},p.tsx("span",null,A)):null;A=-1<this.selectedItems.indexOf(d);B=B?null:d.get("layer.uid");B=this.selectionEnabled?(k={bind:this,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":d,
tabIndex:0,"aria-selected":A?"true":"false",role:"option","aria-labelledby":l},k["data-layer-uid"]=B,k):(y={bind:void 0,onclick:void 0,onkeydown:void 0,"data-item":void 0,tabIndex:void 0,"aria-selected":void 0,role:void 0,"aria-labelledby":void 0},y["data-layer-uid"]=void 0,y);return p.tsx("li",q({key:d,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",h),"aria-labelledby":l},B),p.tsx("div",{key:"esri-layer-list__list-item-container",
class:"esri-layer-list__item-container"},u,r,n),H,G,f,J)};n.prototype._focusListItem=function(d){var B=this._focusSortUid;d&&B&&d.dataset.layerUid===B&&(d.focus(),this._focusSortUid=null)};n.prototype._createLabelNode=function(d,B,c){var a,h=this.selectionEnabled,f=this._newUI;B=B&&B.visibilityMode;var n=(a={},a["esri-layer-list__item-toggle-icon"]=f,a["esri-layer-list__item-toggle-icon"]=f&&"exclusive"!==B,a["esri-layer-list__item-radio-icon"]=f&&"exclusive"===B,a["esri-icon-radio-checked"]="exclusive"===
B&&d.visible,a["esri-icon-radio-unchecked"]="exclusive"===B&&!d.visible,a["esri-icon-visible"]="exclusive"!==B&&!f&&d.visible,a["esri-icon-non-visible"]="exclusive"!==B&&(f||!d.visible),a),r="exclusive"===B?"radio":"switch";a=d.title||m.untitledLayer;var k=d.visibleAtCurrentScale?a:a+" ("+m.layerInvisibleAtScale+")";a=p.tsx("span",{key:"layer-title-container",id:c,title:k,"aria-label":k,class:"esri-layer-list__item-title"},a);n=p.tsx("span",{class:this.classes(n),"aria-hidden":"true"});r={bind:this,
onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":d,"data-parent-visibility":B,tabIndex:0,"aria-checked":d.visible?"true":"false",role:r,"aria-labelledby":c};k={bind:void 0,onclick:void 0,onkeydown:void 0,"data-item":void 0,"data-parent-visibility":void 0,tabIndex:void 0,"aria-checked":void 0,role:void 0,"aria-labelledby":void 0};c=h?k:r;h=[p.tsx("span",q({class:"esri-layer-list__item-toggle"},h?r:k),n),a];f&&h.reverse();f=p.tsx("div",q({key:d,class:"esri-layer-list__item-label"},
c),h);c=(h=!!d.error)?p.tsx("span",{key:"notice-triangle","aria-hidden":"true",class:"esri-icon-notice-triangle"}):null;return"inherited"===B||h?p.tsx("div",{key:d,class:"esri-layer-list__item-label"},c,a):f};n.prototype._renderPanelButton=function(d){var a,c,h=d.className,f=d.open,n=d.title,h=d.image||h?h:"esri-icon-default-action",r=this._getIconImageStyles(d),f=(a={},a["esri-layer-list__item-actions-menu-item--active"]=f,a);a=(c={},c["esri-layer-list__item-action-image"]=!!r["background-image"],
c);h&&(a[h]=!!h);return p.tsx("div",{key:d,bind:this,"data-panel":d,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",f),role:"button",tabindex:"0",title:n,"aria-label":n},p.tsx("span",{class:this.classes(a),styles:r}))};n.prototype._watchActionSectionChanges=function(d,a){var c=this,h="action-section"+a;this._handles.add(d.on("change",this.scheduleRender.bind(this)),h);d.forEach(function(d){return c._renderOnActionChanges(d,a)})};
n.prototype._renderOnActionChanges=function(d,a){var c=this;a="actions"+a;"toggle"===d.type?this._handles.add([k.init(d,"className image id title visible value".split(" "),function(){return c.scheduleRender()})],a):"slider"===d.type?this._handles.add([k.init(d,"className id title visible value displayValueEnabled max min step".split(" "),function(){return c.scheduleRender()})],a):this._handles.add([k.init(d,["className","image","id","title","visible"],function(){return c.scheduleRender()})],a)};n.prototype._renderOnItemChanges=
function(d){var a=this,c=d.uid,h="items"+c;this._handles.add([k.init(d,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),function(){return a.scheduleRender()}),d.actionsSections.on("change",function(){return a.scheduleRender()}),d.children.on("change",function(){return a.scheduleRender()})],h);d.children.forEach(function(d){return a._renderOnItemChanges(d)});d.actionsSections.forEach(function(d){return a._watchActionSectionChanges(d,
c)})};n.prototype._itemsChanged=function(d){var a=this;this._handles.removeAll();d.forEach(function(d){return a._renderOnItemChanges(d)});this.scheduleRender()};n.prototype._renderActionsSections=function(d,a,c){var h=this;a=a.toArray().map(function(a){return p.tsx("ul",{key:a,class:"esri-layer-list__item-actions-list"},h._renderActionSection(d,a))});return p.tsx("div",{role:"group","aria-expanded":d.actionsOpen?"true":"false",key:"esri-layer-list__actions-section",id:c,class:"esri-layer-list__item-actions",
hidden:d.actionsOpen?null:!0},a)};n.prototype._renderActionSection=function(d,a){var c=this;return(a&&a.toArray()).map(function(a){return c._renderAction({item:d,action:a})})};n.prototype._renderAction=function(d){var a,c,h=d.item,f=d.action;d=d.singleAction;var n=this._getIconImageStyles(f),r=f.active,k=f.className,y=f.disabled,l=f.title,k="button"!==f.type||f.image||k?k:"esri-icon-default-action",y=(a={},a["esri-layer-list__item-actions-menu-item"]=d&&"button"===f.type,a["esri-layer-list__item-action"]=
!d&&"toggle"!==f.type,a["esri-layer-list__action-toggle"]="toggle"===f.type,a["esri-layer-list__action-toggle--on"]="toggle"===f.type&&f.value,a["esri-disabled-element"]=y,a);a=(c={},c["esri-layer-list__item-action-image"]=!r&&!!n["background-image"],c["esri-icon-loading-indicator"]=r,c["esri-rotating"]=r,c);k&&(a[k]=!0);c=p.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",a),styles:n});a=d?null:p.tsx("span",{key:"action-title",class:"esri-layer-list__item-action-title"},
l);c=[c,a];return d?p.tsx("div",{bind:this,"data-item":h,"data-action":f,role:"button",key:f,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:y,tabindex:"0",title:l,"aria-label":l},c):p.tsx("li",{bind:this,"data-item":h,"data-action":f,key:f,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:y,tabindex:"0",role:"button",title:l,"aria-label":l},c)};n.prototype._countActions=function(d){return d.reduce(function(d,a){return d+a.length},0)};n.prototype._getIconImageStyles=
function(d){d="esri.widgets.LayerList.ListItemPanel"===d.declaredClass||"esri.support.Action.ActionButton"===d.declaredClass||"esri.support.Action.ActionToggle"===d.declaredClass?d.image:null;return{"background-image":d?'url("'+d+'")':null}};n.prototype._selectionKeydown=function(d){var a=G.eventKey(d);if(-1===["ArrowDown","ArrowUp"].indexOf(a))this._toggleSelection(d);else{d.stopPropagation();var c=this._sortable,f=-1<this.selectedItems.indexOf(d.currentTarget["data-item"]),h=c.toArray();d=h.indexOf(d.target.dataset.layerUid);
if(-1!==d){if("ArrowDown"===a){var r=d+1;if(r>=h.length)return;f?(h.splice(r,0,h.splice(d,1)[0]),c.sort(h),this._sortLayersToItems(c.toArray()),this._focusSortUid=h[r]):(this._focusSortUid=h[r],this.scheduleRender())}"ArrowUp"===a&&(r=d-1,-1>=r||(f?(h.splice(r,0,h.splice(d,1)[0]),c.sort(h),this._sortLayersToItems(c.toArray()),this._focusSortUid=h[r]):(this._focusSortUid=h[r],this.scheduleRender())))}}};n.prototype._toggleActionsOpen=function(d){var a=d.currentTarget["data-item"],c=!a.actionsOpen;
c&&this.operationalItems.forEach(function(d){return C(d)});a.actionsOpen=c;d.stopPropagation()};n.prototype._triggerPanel=function(d){var a=d.currentTarget["data-panel"];a&&(a.open=!a.open);d.stopPropagation()};n.prototype._triggerAction=function(d){var a=d.currentTarget,c=a["data-action"],a=a["data-item"];"toggle"===c.type&&(c.value=!c.value);this.triggerAction(c,a);d.stopPropagation()};n.prototype._toggleVisibility=function(d){var a=d.currentTarget,c=a.getAttribute("data-parent-visibility"),a=a["data-item"];
"exclusive"===c&&a.visible||(a.visible=!a.visible);d.stopPropagation()};n.prototype._toggleChildrenClick=function(d){var a=d.currentTarget["data-item"];a.open=!a.open;d.stopPropagation()};n.prototype._toggleSelection=function(a){a.stopPropagation();var d=this.selectedItems,c=this.multipleSelectionEnabled&&(a.metaKey||a.ctrlKey);a=a.currentTarget["data-item"];var h=-1<d.indexOf(a),f=d.length,r=h&&1===f;c?h?d.remove(a):d.add(a):f&&!r?(d.removeAll(),d.add(a)):h?d.remove(a):d.add(a)};f([h.property()],
n.prototype,"iconClass",void 0);f([h.property(),p.renderable()],n.prototype,"errorsVisible",void 0);f([h.property()],n.prototype,"label",void 0);f([h.aliasOf("viewModel.listItemCreatedFunction"),p.renderable()],n.prototype,"listItemCreatedFunction",void 0);f([h.property()],n.prototype,"multipleSelectionEnabled",void 0);f([h.aliasOf("viewModel.operationalItems"),p.renderable()],n.prototype,"operationalItems",void 0);f([h.property(),p.renderable()],n.prototype,"selectionEnabled",void 0);f([h.property(),
p.renderable()],n.prototype,"selectedItems",void 0);f([h.property(),p.renderable()],n.prototype,"statusIndicatorsVisible",null);f([h.aliasOf("viewModel.view"),p.renderable()],n.prototype,"view",void 0);f([p.vmEvent("trigger-action"),h.property({type:S}),p.renderable("viewModel.state")],n.prototype,"viewModel",void 0);f([h.property(),p.renderable()],n.prototype,"visibleElements",void 0);f([h.cast("visibleElements")],n.prototype,"castVisibleElements",null);f([h.aliasOf("viewModel.triggerAction")],n.prototype,
"triggerAction",null);f([p.accessibleHandler()],n.prototype,"_toggleActionsOpen",null);f([p.accessibleHandler()],n.prototype,"_triggerPanel",null);f([p.accessibleHandler()],n.prototype,"_triggerAction",null);f([p.accessibleHandler()],n.prototype,"_toggleVisibility",null);f([p.accessibleHandler()],n.prototype,"_toggleChildrenClick",null);f([p.accessibleHandler()],n.prototype,"_toggleSelection",null);return n=f([h.subclass("esri.widgets.LayerList")],n)}(h.declared(Y))})},"esri/libs/sortablejs/Sortable":function(){(function(F,
E){"object"===typeof exports&&"undefined"!==typeof module?module.exports=E():"function"===typeof define&&define.amd?define(E):(F=F||self,F.Sortable=E())})(this,function(){function F(b){F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return F(b)}function E(){E=Object.assign||function(b){for(var e=1;e<arguments.length;e++){var g=arguments[e],
x;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&(b[x]=g[x])}return b};return E.apply(this,arguments)}function z(b){for(var e=1;e<arguments.length;e++){var g=null!=arguments[e]?arguments[e]:{},x=Object.keys(g);"function"===typeof Object.getOwnPropertySymbols&&(x=x.concat(Object.getOwnPropertySymbols(g).filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable})));x.forEach(function(e){var x=g[e];e in b?Object.defineProperty(b,e,{value:x,enumerable:!0,configurable:!0,writable:!0}):
b[e]=x})}return b}function f(b,e){if(null==b)return{};var g;if(null==b)g={};else{g={};var x=Object.keys(b),a,d;for(d=0;d<x.length;d++)a=x[d],0<=e.indexOf(a)||(g[a]=b[a])}if(Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(b),a=0;a<d.length;a++)x=d[a],0<=e.indexOf(x)||Object.prototype.propertyIsEnumerable.call(b,x)&&(g[x]=b[x]);return g}function q(b){var e;if(Array.isArray(b)){e=0;for(var g=Array(b.length);e<b.length;e++)g[e]=b[e];e=g}else e=void 0;e||(e=Symbol.iterator in Object(b)||
"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=e))throw new TypeError("Invalid attempt to spread non-iterable instance");return b}function a(b){return!!navigator.userAgent.match(b)}function m(b,e,g){b.addEventListener(e,g,!ia&&jb)}function c(b,e,g){b.removeEventListener(e,g,!ia&&jb)}function u(b,e){if(e){"\x3e"===e[0]&&(e=e.substring(1));if(b)try{if(b.matches)return b.matches(e);if(b.msMatchesSelector)return b.msMatchesSelector(e);if(b.webkitMatchesSelector)return b.webkitMatchesSelector(e)}catch(g){}return!1}}
function G(b,e,g,x){if(b){g=g||document;do{if(null!=e&&("\x3e"===e[0]?b.parentNode===g&&u(b,e):u(b,e))||x&&b===g)return b;if(b===g)break}while(b=b.host&&b!==document&&b.host.nodeType?b.host:b.parentNode)}return null}function A(b,e,g){if(b&&e)if(b.classList)b.classList[g?"add":"remove"](e);else{var x=(" "+b.className+" ").replace(kb," ").replace(" "+e+" "," ");b.className=(x+(g?" "+e:"")).replace(kb," ")}}function l(b,e,g){var x=b&&b.style;if(x){if(void 0===g)return document.defaultView&&document.defaultView.getComputedStyle?
g=document.defaultView.getComputedStyle(b,""):b.currentStyle&&(g=b.currentStyle),void 0===e?g:g[e];e in x||-1!==e.indexOf("webkit")||(e="-webkit-"+e);x[e]=g+("string"===typeof g?"":"px")}}function t(b,e){var g="";if("string"===typeof b)g=b;else{do{var x=l(b,"transform");x&&"none"!==x&&(g=x+" "+g)}while(!e&&(b=b.parentNode))}return(b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix)&&new b(g)}function k(b,e,g){if(b){b=b.getElementsByTagName(e);e=0;var x=b.length;if(g)for(;e<x;e++)g(b[e],
e);return b}return[]}function h(){return ia?document.documentElement:document.scrollingElement}function H(b,e,g,x,a){if(b.getBoundingClientRect||b===window){var d,c,R,f,r,n,k;b!==window&&b!==h()?(d=b.getBoundingClientRect(),c=d.top,R=d.left,f=d.bottom,r=d.right,n=d.height,k=d.width):(R=c=0,f=window.innerHeight,r=window.innerWidth,n=window.innerHeight,k=window.innerWidth);if((e||g)&&b!==window&&(a=a||b.parentNode,!ia)){do if(a&&a.getBoundingClientRect&&("none"!==l(a,"transform")||g&&"static"!==l(a,
"position"))){f=a.getBoundingClientRect();c-=f.top+parseInt(l(a,"border-top-width"));R-=f.left+parseInt(l(a,"border-left-width"));f=c+d.height;r=R+d.width;break}while(a=a.parentNode)}x&&b!==window&&(x=(b=t(a||b))&&b.a,a=b&&b.d,b&&(c/=a,R/=x,k/=x,n/=a,f=c+n,r=R+k));return{top:c,left:R,bottom:f,right:r,width:k,height:n}}}function Y(b,e,g){var a=J(b,!0);for(b=H(b)[e];a;){e=H(a)[g];var d=void 0,d="top"===g||"left"===g?b>=e:b<=e;if(!d)return a;if(a===h())break;a=J(a,!1)}return!1}function S(b,e,g){for(var a=
0,d=0,c=b.children;d<c.length;){if("none"!==c[d].style.display&&c[d]!==w.ghost&&c[d]!==w.dragged&&G(c[d],g.draggable,b,!1)){if(a===e)return c[d];a++}d++}return null}function O(b,e){for(b=b.lastElementChild;b&&(b===w.ghost||"none"===l(b,"display")||e&&!u(b,e));)b=b.previousElementSibling;return b||null}function p(b,e){var g=0;if(!b||!b.parentNode)return-1;for(;b=b.previousElementSibling;)"TEMPLATE"===b.nodeName.toUpperCase()||b===w.clone||e&&!u(b,e)||g++;return g}function C(b){var e=0,g=0,a=h();if(b){do var d=
t(b),c=d.d,e=e+b.scrollLeft*d.a,g=g+b.scrollTop*c;while(b!==a&&(b=b.parentNode))}return[e,g]}function y(b,e){for(var g in b)if(b.hasOwnProperty(g))for(var a in e)if(e.hasOwnProperty(a)&&e[a]===b[g][a])return Number(g);return-1}function J(b,e){if(!b||!b.getBoundingClientRect)return h();var g=!1;do if(b.clientWidth<b.scrollWidth||b.clientHeight<b.scrollHeight){var a=l(b);if(b.clientWidth<b.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||b.clientHeight<b.scrollHeight&&("auto"==a.overflowY||
"scroll"==a.overflowY)){if(!b.getBoundingClientRect||b===document.body)break;if(g||e)return b;g=!0}}while(b=b.parentNode);return h()}function r(b,e){return Math.round(b.top)===Math.round(e.top)&&Math.round(b.left)===Math.round(e.left)&&Math.round(b.height)===Math.round(e.height)&&Math.round(b.width)===Math.round(e.width)}function K(b,e){return function(){if(!xa){var g=arguments;1===g.length?b.call(this,g[0]):b.apply(this,g);xa=setTimeout(function(){xa=void 0},e)}}}function n(b,e,g){b.scrollLeft+=
e;b.scrollTop+=g}function d(b){var e=window.Polymer,g=window.jQuery||window.Zepto;return e&&e.dom?e.dom(b).cloneNode(!0):g?g(b).clone(!0)[0]:b.cloneNode(!0)}function B(b,e){l(b,"position","absolute");l(b,"top",e.top);l(b,"left",e.left);l(b,"width",e.width);l(b,"height",e.height)}function da(b){l(b,"position","");l(b,"top","");l(b,"left","");l(b,"width","");l(b,"height","")}function ub(){var b=[],e;return{captureAnimationState:function(){b=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==
l(e,"display")&&e!==w.ghost){b.push({target:e,rect:H(e)});var g=z({},b[b.length-1].rect);if(e.thisAnimationDuration){var a=t(e,!0);a&&(g.top-=a.f,g.left-=a.e)}e.fromRect=g}})},addAnimationState:function(e){b.push(e)},removeAnimationState:function(e){b.splice(y(b,{target:e}),1)},animateAll:function(g){var a=this;if(this.options.animation){var d=!1,c=0;b.forEach(function(b){var e=0,g=b.target,x=g.fromRect,h=H(g),f=g.prevFromRect,R=g.prevToRect;b=b.rect;var n=t(g,!0);n&&(h.top-=n.f,h.left-=n.e);g.toRect=
h;g.thisAnimationDuration&&r(f,h)&&!r(x,h)&&(b.top-h.top)/(b.left-h.left)===(x.top-h.top)/(x.left-h.left)&&(e=Math.sqrt(Math.pow(f.top-b.top,2)+Math.pow(f.left-b.left,2))/Math.sqrt(Math.pow(f.top-R.top,2)+Math.pow(f.left-R.left,2))*a.options.animation);r(h,x)||(g.prevFromRect=x,g.prevToRect=h,e||(e=a.options.animation),a.animate(g,b,h,e));e&&(d=!0,c=Math.max(c,e),clearTimeout(g.animationResetTimer),g.animationResetTimer=setTimeout(function(){g.animationTime=0;g.prevFromRect=null;g.fromRect=null;g.prevToRect=
null;g.thisAnimationDuration=null},e),g.thisAnimationDuration=e)});clearTimeout(e);d?e=setTimeout(function(){"function"===typeof g&&g()},c):"function"===typeof g&&g();b=[]}else clearTimeout(e),"function"===typeof g&&g()},animate:function(b,e,a,d){if(d){l(b,"transition","");l(b,"transform","");var g=t(this.el),x=(e.left-a.left)/(g&&g.a||1);e=(e.top-a.top)/(g&&g.d||1);b.animatingX=!!x;b.animatingY=!!e;l(b,"transform","translate3d("+x+"px,"+e+"px,0)");l(b,"transition","transform "+d+"ms"+(this.options.easing?
" "+this.options.easing:""));l(b,"transform","translate3d(0,0,0)");"number"===typeof b.animated&&clearTimeout(b.animated);b.animated=setTimeout(function(){l(b,"transition","");l(b,"transform","");b.animated=!1;b.animatingX=!1;b.animatingY=!1},d)}}}}function ja(b){var e=b.sortable,g=b.rootEl,a=b.name,d=b.targetEl,c=b.cloneEl,h=b.toEl,f=b.fromEl,r=b.oldIndex,n=b.newIndex,k=b.oldDraggableIndex,y=b.newDraggableIndex,l=b.originalEvent,m=b.putSortable,G=b.extraEventProperties;if(e=e||g&&g[U]){var C=e.options,
u="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||ia||wa?(b=document.createEvent("Event"),b.initEvent(a,!0,!0)):b=new CustomEvent(a,{bubbles:!0,cancelable:!0});b.to=h||g;b.from=f||g;b.item=d||g;b.clone=c;b.oldIndex=r;b.newIndex=n;b.oldDraggableIndex=k;b.newDraggableIndex=y;b.originalEvent=l;b.pullMode=m?m.lastPutMode:void 0;var a=z({},G,ya.getEventProperties(a,e)),H;for(H in a)b[H]=a[H];g&&g.dispatchEvent(b);C[u]&&C[u].call(e,b)}}function W(b){ja(z({putSortable:T,cloneEl:N,targetEl:v,
rootEl:M,oldIndex:qa,oldDraggableIndex:za,newIndex:aa,newDraggableIndex:ka},b))}function w(b,e){if(!b||!b.nodeType||1!==b.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(b));this.el=b;this.options=e=E({},e);b[U]=this;var g={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(b.nodeName)?"\x3eli":"\x3e*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return lb(b,this.options)},ghostClass:"sortable-ghost",
chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(b,e){b.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==w.supportPointer&&
"PointerEvent"in window,emptyInsertThreshold:5};ya.initializePlugins(this,b,g);for(var a in g)a in e||(e[a]=g[a]);mb(e);for(var d in this)"_"===d.charAt(0)&&"function"===typeof this[d]&&(this[d]=this[d].bind(this));if(this.nativeDraggable=e.forceFallback?!1:zb)this.options.touchStartThreshold=1;e.supportPointer?m(b,"pointerdown",this._onTapStart):(m(b,"mousedown",this._onTapStart),m(b,"touchstart",this._onTapStart));this.nativeDraggable&&(m(b,"dragover",this),m(b,"dragenter",this));La.push(this.el);
e.store&&e.store.get&&this.sort(e.store.get(this)||[]);E(this,ub())}function Ua(b,e,g,a,d,c,h,f){var x,R=b[U],r=R.options.onMove,n;!window.CustomEvent||ia||wa?(x=document.createEvent("Event"),x.initEvent("move",!0,!0)):x=new CustomEvent("move",{bubbles:!0,cancelable:!0});x.to=e;x.from=b;x.dragged=g;x.draggedRect=a;x.related=d||e;x.relatedRect=c||H(e);x.willInsertAfter=f;x.originalEvent=h;b.dispatchEvent(x);r&&(n=r.call(R,x,h));return n}function Va(b){b.draggable=!1}function vb(){Xa=!1}function wb(b,
e,g){g=H(O(g.el,g.options.draggable));return e?b.clientX>g.right+10||b.clientX<=g.right&&b.clientY>g.bottom&&b.clientX>=g.left:b.clientX>g.right&&b.clientY>g.top||b.clientX<=g.right&&b.clientY>g.bottom+10}function xb(b,e,g,a,d,c,h,f){b=a?b.clientY:b.clientX;var x=a?g.height:g.width,R=a?g.top:g.left;g=a?g.bottom:g.right;a=!1;if(!h)if(f&&Ma<x*d)if(!Aa&&(1===Ba?b>R+x*c/2:b<g-x*c/2)&&(Aa=!0),Aa)a=!0;else{if(1===Ba?b<R+Ma:b>g-Ma)return-Ba}else if(b>R+x*(1-d)/2&&b<g-x*(1-d)/2)return e=p(v)<p(e)?1:-1,e;
if(a||h)if(b<R+x*c/2||b>g-x*c/2)return b>R+x/2?1:-1;return 0}function X(b){b=b.tagName+b.className+b.src+b.href+b.textContent;for(var e=b.length,g=0;e--;)g+=b.charCodeAt(e);return g.toString(36)}function ua(b){Na.length=0;b=b.getElementsByTagName("input");for(var e=b.length;e--;){var g=b[e];g.checked&&Na.push(g)}}function Ja(b){return setTimeout(b,0)}function ha(){P.forEach(function(b){clearInterval(b.pid)});P=[]}function va(){}function Wa(){}function yb(b,e){D.forEach(function(g,a){(a=e.children[g.sortableIndex+
(b?Number(a):0)])?e.insertBefore(g,a):e.appendChild(g)})}function hb(b,e){ba.forEach(function(g,a){(a=e.children[g.sortableIndex+(b?Number(a):0)])?e.insertBefore(g,a):e.appendChild(g)})}function Ka(){D.forEach(function(b){b!==L&&b.parentNode&&b.parentNode.removeChild(b)})}var ia=a(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),wa=a(/Edge/i),ib=a(/firefox/i),Ya=a(/safari/i)&&!a(/chrome/i)&&!a(/android/i),Ca=a(/iP(ad|od|hone)/i),Ab=a(/chrome/i)&&a(/android/i),jb={capture:!1,passive:!1},kb=
/\s+/g,xa,U="Sortable"+(new Date).getTime(),Da=[],Za={initializeByDefault:!0},ya={mount:function(b){for(var e in Za)!Za.hasOwnProperty(e)||e in b||(b[e]=Za[e]);Da.push(b)},pluginEvent:function(b,e,g){var a=this;this.eventCanceled=!1;g.cancel=function(){a.eventCanceled=!0};var d=b+"Global";Da.forEach(function(a){if(e[a.pluginName]){if(e[a.pluginName][d])e[a.pluginName][d](z({sortable:e},g));if(e.options[a.pluginName]&&e[a.pluginName][b])e[a.pluginName][b](z({sortable:e},g))}})},initializePlugins:function(b,
e,g,a){Da.forEach(function(a){var d=a.pluginName;if(b.options[d]||a.initializeByDefault)a=new a(b,e,b.options),a.sortable=b,a.options=b.options,b[d]=a,E(g,a.defaults)});for(var d in b.options)b.options.hasOwnProperty(d)&&(a=this.modifyOption(b,d,b.options[d]),"undefined"!==typeof a&&(b.options[d]=a))},getEventProperties:function(b,e){var g={};Da.forEach(function(a){"function"===typeof a.eventProperties&&E(g,a.eventProperties.call(e[a.pluginName],b))});return g},modifyOption:function(b,e,g){var a;
Da.forEach(function(d){b[d.pluginName]&&d.optionListeners&&"function"===typeof d.optionListeners[e]&&(a=d.optionListeners[e].call(b[d.pluginName],g))});return a}},Z=function(b,e){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=g.evt,g=f(g,["evt"]);ya.pluginEvent.bind(w)(b,e,z({dragEl:v,parentEl:Q,ghostEl:I,rootEl:M,nextEl:ma,lastDownEl:Oa,cloneEl:N,cloneHidden:la,dragStarted:Ea,putSortable:T,activeSortable:w.active,originalEvent:a,oldIndex:qa,oldDraggableIndex:za,newIndex:aa,newDraggableIndex:ka,
hideGhostForTarget:nb,unhideGhostForTarget:ob,cloneNowHidden:function(){la=!0},cloneNowShown:function(){la=!1},dispatchSortableEvent:function(b){W({sortable:e,name:b,originalEvent:a})}},g))};if("undefined"===typeof window||!window.document)throw Error("Sortable.js requires a window with a document");var v,Q,I,M,ma,Oa,N,la,qa,aa,za,ka,Pa,T,ra=!1,Qa=!1,La=[],na,fa,$a,ab,pb,qb,Ea,sa,Ba,Aa=!1,Ra=!1,Ma,V,bb=[],Xa=!1,Na=[],rb=wa||ia?"cssFloat":"float",zb=!Ab&&!Ca&&"draggable"in document.createElement("div"),
sb=function(){if(ia)return!1;var b=document.createElement("x");b.style.cssText="pointer-events:auto";return"auto"===b.style.pointerEvents}(),lb=function(b,e){var g=l(b),a=parseInt(g.width)-parseInt(g.paddingLeft)-parseInt(g.paddingRight)-parseInt(g.borderLeftWidth)-parseInt(g.borderRightWidth),d=S(b,0,e);b=S(b,1,e);var c=d&&l(d);e=b&&l(b);var h=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+H(d).width,f=e&&parseInt(e.marginLeft)+parseInt(e.marginRight)+H(b).width;return"flex"===g.display?"column"===
g.flexDirection||"column-reverse"===g.flexDirection?"vertical":"horizontal":"grid"===g.display?1>=g.gridTemplateColumns.split(" ").length?"vertical":"horizontal":d&&c["float"]&&"none"!==c["float"]?(g="left"===c["float"]?"left":"right",!b||"both"!==e.clear&&e.clear!==g?"horizontal":"vertical"):d&&("block"===c.display||"flex"===c.display||"table"===c.display||"grid"===c.display||h>=a&&"none"===g[rb]||b&&"none"===g[rb]&&h+f>a)?"vertical":"horizontal"},Bb=function(b,e,g){var a=g?b.left:b.top,d=g?b.right:
b.bottom;b=g?b.width:b.height;var c=g?e.left:e.top,h=g?e.right:e.bottom;e=g?e.width:e.height;return a===c||d===h||a+b/2===c+e/2},Cb=function(b,e){var g;La.some(function(a){if(!O(a)){var d=H(a),c=a[U].options.emptyInsertThreshold,x=b>=d.left-c&&b<=d.right+c,d=e>=d.top-c&&e<=d.bottom+c;if(c&&x&&d)return g=a}});return g},mb=function(b){function e(b,a){return function(g,d,c,x){var h=g.options.group.name&&d.options.group.name&&g.options.group.name===d.options.group.name;if(null==b&&(a||h))return!0;if(null==
b||!1===b)return!1;if(a&&"clone"===b)return b;if("function"===typeof b)return e(b(g,d,c,x),a)(g,d,c,x);g=(a?g:d).options.group.name;return!0===b||"string"===typeof b&&b===g||b.join&&-1<b.indexOf(g)}}var g={},a=b.group;a&&"object"==F(a)||(a={name:a});g.name=a.name;g.checkPull=e(a.pull,!0);g.checkPut=e(a.put);g.revertClone=a.revertClone;b.group=g},nb=function(){!sb&&I&&l(I,"display","none")},ob=function(){!sb&&I&&l(I,"display","")};document.addEventListener("click",function(b){if(Qa)return b.preventDefault(),
b.stopPropagation&&b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),Qa=!1},!0);var oa=function(b){if(v){b=b.touches?b.touches[0]:b;var e=Cb(b.clientX,b.clientY);if(e){var g={},a;for(a in b)b.hasOwnProperty(a)&&(g[a]=b[a]);g.target=g.rootEl=e;g.preventDefault=void 0;g.stopPropagation=void 0;e[U]._onDragOver(g)}}},Db=function(b){v&&v.parentNode[U]._isOutsideThisEl(b.target)};w.prototype={constructor:w,_isOutsideThisEl:function(b){this.el.contains(b)||b===this.el||(sa=null)},
_getDirection:function(b,e){return"function"===typeof this.options.direction?this.options.direction.call(this,b,e,v):this.options.direction},_onTapStart:function(b){if(b.cancelable){var e=this,a=this.el,d=this.options,c=d.preventOnFilter,h=b.type,f=b.touches&&b.touches[0]||b.pointerType&&"touch"===b.pointerType&&b,r=(f||b).target,n=b.target.shadowRoot&&(b.path&&b.path[0]||b.composedPath&&b.composedPath()[0])||r,k=d.filter;ua(a);if(!(v||/mousedown|pointerdown/.test(h)&&0!==b.button||d.disabled||n.isContentEditable||
(r=G(r,d.draggable,a,!1),r&&r.animated||Oa===r))){qa=p(r);za=p(r,d.draggable);if("function"===typeof k){if(k.call(this,b,r,this)){W({sortable:e,rootEl:n,name:"filter",targetEl:r,toEl:a,fromEl:a});Z("filter",e,{evt:b});c&&b.cancelable&&b.preventDefault();return}}else if(k&&(k=k.split(",").some(function(g){if(g=G(n,g.trim(),a,!1))return W({sortable:e,rootEl:g,name:"filter",targetEl:r,fromEl:a,toEl:a}),Z("filter",e,{evt:b}),!0}))){c&&b.cancelable&&b.preventDefault();return}d.handle&&!G(n,d.handle,a,
!1)||this._prepareDragStart(b,f,r)}}},_prepareDragStart:function(b,e,a){var g=this,d=g.el,c=g.options,h=d.ownerDocument;if(a&&!v&&a.parentNode===d){var f=H(a);M=d;v=a;Q=v.parentNode;ma=v.nextSibling;Oa=a;Pa=c.group;w.dragged=v;na={target:v,clientX:(e||b).clientX,clientY:(e||b).clientY};pb=na.clientX-f.left;qb=na.clientY-f.top;this._lastX=(e||b).clientX;this._lastY=(e||b).clientY;v.style["will-change"]="all";a=function(){Z("delayEnded",g,{evt:b});w.eventCanceled?g._onDrop():(g._disableDelayedDragEvents(),
!ib&&g.nativeDraggable&&(v.draggable=!0),g._triggerDragStart(b,e),W({sortable:g,name:"choose",originalEvent:b}),A(v,c.chosenClass,!0))};c.ignore.split(",").forEach(function(b){k(v,b.trim(),Va)});m(h,"dragover",oa);m(h,"mousemove",oa);m(h,"touchmove",oa);m(h,"mouseup",g._onDrop);m(h,"touchend",g._onDrop);m(h,"touchcancel",g._onDrop);ib&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0);Z("delayStart",this,{evt:b});!c.delay||c.delayOnTouchOnly&&!e||this.nativeDraggable&&(wa||
ia)?a():w.eventCanceled?this._onDrop():(m(h,"mouseup",g._disableDelayedDrag),m(h,"touchend",g._disableDelayedDrag),m(h,"touchcancel",g._disableDelayedDrag),m(h,"mousemove",g._delayedDragTouchMoveHandler),m(h,"touchmove",g._delayedDragTouchMoveHandler),c.supportPointer&&m(h,"pointermove",g._delayedDragTouchMoveHandler),g._dragStartTimer=setTimeout(a,c.delay))}},_delayedDragTouchMoveHandler:function(b){b=b.touches?b.touches[0]:b;Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))>=
Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&Va(v);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var b=this.el.ownerDocument;c(b,"mouseup",this._disableDelayedDrag);c(b,"touchend",this._disableDelayedDrag);c(b,"touchcancel",this._disableDelayedDrag);c(b,"mousemove",this._delayedDragTouchMoveHandler);c(b,"touchmove",this._delayedDragTouchMoveHandler);
c(b,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(b,e){e=e||"touch"==b.pointerType&&b;!this.nativeDraggable||e?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):e?m(document,"touchmove",this._onTouchMove):m(document,"mousemove",this._onTouchMove):(m(v,"dragend",this),m(M,"dragstart",this._onDragStart));try{document.selection?Ja(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(g){}},_dragStarted:function(b,e){ra=
!1;if(M&&v){Z("dragStarted",this,{evt:e});this.nativeDraggable&&m(document,"dragover",Db);var a=this.options;!b&&A(v,a.dragClass,!1);A(v,a.ghostClass,!0);w.active=this;b&&this._appendGhost();W({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(fa){this._lastX=fa.clientX;this._lastY=fa.clientY;nb();for(var b=document.elementFromPoint(fa.clientX,fa.clientY),e=b;b&&b.shadowRoot;){b=b.shadowRoot.elementFromPoint(fa.clientX,fa.clientY);if(b===e)break;e=b}v.parentNode[U]._isOutsideThisEl(b);
if(e){do{if(e[U]){var a=void 0;if((a=e[U]._onDragOver({clientX:fa.clientX,clientY:fa.clientY,target:b,rootEl:e}))&&!this.options.dragoverBubble)break}b=e}while(e=e.parentNode)}ob()}},_onTouchMove:function(b){if(na){var e=this.options,a=e.fallbackTolerance,d=e.fallbackOffset,e=b.touches?b.touches[0]:b,c=I&&t(I),h=I&&c&&c.a,f=I&&c&&c.d,r=Ca&&V&&C(V),h=(e.clientX-na.clientX+d.x)/(h||1)+(r?r[0]-bb[0]:0)/(h||1),d=(e.clientY-na.clientY+d.y)/(f||1)+(r?r[1]-bb[1]:0)/(f||1);if(!w.active&&!ra){if(a&&Math.max(Math.abs(e.clientX-
this._lastX),Math.abs(e.clientY-this._lastY))<a)return;this._onDragStart(b,!0)}I&&(c?(c.e+=h-($a||0),c.f+=d-(ab||0)):c={a:1,b:0,c:0,d:1,e:h,f:d},a="matrix(".concat(c.a,",").concat(c.b,",").concat(c.c,",").concat(c.d,",").concat(c.e,",").concat(c.f,")"),l(I,"webkitTransform",a),l(I,"mozTransform",a),l(I,"msTransform",a),l(I,"transform",a),$a=h,ab=d,fa=e);b.cancelable&&b.preventDefault()}},_appendGhost:function(){if(!I){var b=this.options.fallbackOnBody?document.body:M,e=H(v,!0,Ca,!0,b),a=this.options;
if(Ca){for(V=b;"static"===l(V,"position")&&"none"===l(V,"transform")&&V!==document;)V=V.parentNode;V!==document.body&&V!==document.documentElement?(V===document&&(V=h()),e.top+=V.scrollTop,e.left+=V.scrollLeft):V=h();bb=C(V)}I=v.cloneNode(!0);A(I,a.ghostClass,!1);A(I,a.fallbackClass,!0);A(I,a.dragClass,!0);l(I,"transition","");l(I,"transform","");l(I,"box-sizing","border-box");l(I,"margin",0);l(I,"top",e.top);l(I,"left",e.left);l(I,"width",e.width);l(I,"height",e.height);l(I,"opacity","0.8");l(I,
"position",Ca?"absolute":"fixed");l(I,"zIndex","100000");l(I,"pointerEvents","none");w.ghost=I;b.appendChild(I);l(I,"transform-origin",pb/parseInt(I.style.width)*100+"% "+qb/parseInt(I.style.height)*100+"%")}},_onDragStart:function(b,e){var a=this,h=b.dataTransfer,f=a.options;Z("dragStart",this,{evt:b});w.eventCanceled?this._onDrop():(Z("setupClone",this),w.eventCanceled||(N=d(v),N.draggable=!1,N.style["will-change"]="",this._hideClone(),A(N,this.options.chosenClass,!1),w.clone=N),a.cloneId=Ja(function(){Z("clone",
a);w.eventCanceled||(a.options.removeCloneOnHide||M.insertBefore(N,v),a._hideClone(),W({sortable:a,name:"clone"}))}),!e&&A(v,f.dragClass,!0),e?(Qa=!0,a._loopId=setInterval(a._emulateDragOver,50)):(c(document,"mouseup",a._onDrop),c(document,"touchend",a._onDrop),c(document,"touchcancel",a._onDrop),h&&(h.effectAllowed="move",f.setData&&f.setData.call(a,h,v)),m(document,"drop",a),l(v,"transform","translateZ(0)")),ra=!0,a._dragStartId=Ja(a._dragStarted.bind(a,e,b)),m(document,"selectstart",a),Ea=!0,Ya&&
l(document.body,"user-select","none"))},_onDragOver:function(b){function e(e,a){Z(e,t,z({evt:b,isOwner:B,axis:J?"vertical":"horizontal",revert:y,dragRect:r,targetRect:k,canSort:q,fromSortable:K,target:f,completed:d,onMove:function(e,a){return Ua(M,h,v,r,e,H(e),b,a)},changed:c},a))}function a(){e("dragOverAnimationCapture");t.captureAnimationState();t!==K&&K.captureAnimationState()}function d(a){e("dragOverCompleted",{insertion:a});a&&(B?u._hideClone():u._showClone(t),t!==K&&(A(v,T?T.options.ghostClass:
u.options.ghostClass,!1),A(v,m.ghostClass,!0)),T!==t&&t!==w.active?T=t:t===w.active&&T&&(T=null),K===t&&(t._ignoreWhileAnimating=f),t.animateAll(function(){e("dragOverAnimationComplete");t._ignoreWhileAnimating=null}),t!==K&&(K.animateAll(),K._ignoreWhileAnimating=null));if(f===v&&!v.animated||f===h&&!f.animated)sa=null;m.dragoverBubble||b.rootEl||f===document||(v.parentNode[U]._isOutsideThisEl(b.target),!a&&oa(b));!m.dragoverBubble&&b.stopPropagation&&b.stopPropagation();return E=!0}function c(){aa=
p(v);ka=p(v,m.draggable);W({sortable:t,name:"change",toEl:h,newIndex:aa,newDraggableIndex:ka,originalEvent:b})}var h=this.el,f=b.target,r,k,y,m=this.options,C=m.group,u=w.active,B=Pa===C,q=m.sort,K=T||u,J,t=this,E=!1;if(!Xa){void 0!==b.preventDefault&&b.cancelable&&b.preventDefault();f=G(f,m.draggable,h,!0);e("dragOver");if(w.eventCanceled)return E;if(v.contains(b.target)||f.animated&&f.animatingX&&f.animatingY||t._ignoreWhileAnimating===f)return d(!1);Qa=!1;if(u&&!m.disabled&&(B?q||(y=!M.contains(v)):
T===this||(this.lastPutMode=Pa.checkPull(this,u,v,b))&&C.checkPut(this,u,v,b))){J="vertical"===this._getDirection(b,f);r=H(v);e("dragOverValid");if(w.eventCanceled)return E;if(y)return Q=M,a(),this._hideClone(),e("revert"),w.eventCanceled||(ma?M.insertBefore(v,ma):M.appendChild(v)),d(!0);C=O(h,m.draggable);if(!C||wb(b,J,this)&&!C.animated){if(C===v)return d(!1);C&&h===b.target&&(f=C);f&&(k=H(f));if(!1!==Ua(M,h,v,r,f,k,b,!!f))return a(),h.appendChild(v),Q=h,c(),d(!0)}else if(f.parentNode===h){k=H(f);
var D=0,ja,D=v.parentNode!==h,F=!Bb(v.animated&&v.toRect||r,f.animated&&f.toRect||k,J),C=J?"top":"left",X=Y(f,"top","top")||Y(v,"top","top"),S=X?X.scrollTop:void 0;sa!==f&&(ja=k[C],Aa=!1,Ra=!F&&m.invertSwap||D);var D=xb(b,f,k,J,F?1:m.swapThreshold,null==m.invertedSwapThreshold?m.swapThreshold:m.invertedSwapThreshold,Ra,sa===f),da;if(0!==D){F=p(v);do F-=D,da=Q.children[F];while(da&&("none"===l(da,"display")||da===I))}if(0===D||da===f)return d(!1);sa=f;Ba=D;da=f.nextElementSibling;F=!1;F=1===D;D=Ua(M,
h,v,r,f,k,b,F);if(!1!==D){if(1===D||-1===D)F=1===D;Xa=!0;setTimeout(vb,30);a();F&&!da?h.appendChild(v):f.parentNode.insertBefore(v,F?da:f);X&&n(X,0,S-X.scrollTop);Q=v.parentNode;void 0===ja||Ra||(Ma=Math.abs(ja-H(f)[C]));c();return d(!0)}}if(h.contains(v))return d(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){c(document,"mousemove",this._onTouchMove);c(document,"touchmove",this._onTouchMove);c(document,"pointermove",this._onTouchMove);c(document,"dragover",oa);c(document,"mousemove",
oa);c(document,"touchmove",oa)},_offUpEvents:function(){var b=this.el.ownerDocument;c(b,"mouseup",this._onDrop);c(b,"touchend",this._onDrop);c(b,"pointerup",this._onDrop);c(b,"touchcancel",this._onDrop);c(document,"selectstart",this)},_onDrop:function(b){var e=this.el,a=this.options;aa=p(v);ka=p(v,a.draggable);Z("drop",this,{evt:b});Q=v&&v.parentNode;aa=p(v);ka=p(v,a.draggable);if(!w.eventCanceled&&(Aa=Ra=ra=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),
clearTimeout(this._dragStartId),this.nativeDraggable&&(c(document,"drop",this),c(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ya&&l(document.body,"user-select",""),b&&(Ea&&(b.cancelable&&b.preventDefault(),!a.dropBubble&&b.stopPropagation()),I&&I.parentNode&&I.parentNode.removeChild(I),(M===Q||T&&"clone"!==T.lastPutMode)&&N&&N.parentNode&&N.parentNode.removeChild(N),v&&(this.nativeDraggable&&c(v,"dragend",this),Va(v),v.style["will-change"]="",Ea&&!ra&&A(v,T?T.options.ghostClass:
this.options.ghostClass,!1),A(v,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:b}),M!==Q?(0<=aa&&(W({rootEl:Q,name:"add",toEl:Q,fromEl:M,originalEvent:b}),W({sortable:this,name:"remove",toEl:Q,originalEvent:b}),W({rootEl:Q,name:"sort",toEl:Q,fromEl:M,originalEvent:b}),W({sortable:this,name:"sort",toEl:Q,originalEvent:b})),T&&T.save()):aa!==qa&&0<=aa&&(W({sortable:this,name:"update",toEl:Q,originalEvent:b}),W({sortable:this,name:"sort",
toEl:Q,originalEvent:b})),w.active)))){if(null==aa||-1===aa)aa=qa,ka=za;W({sortable:this,name:"end",toEl:Q,originalEvent:b});this.save()}this._nulling()},_nulling:function(){Z("nulling",this);M=v=Q=I=ma=N=Oa=la=na=fa=Ea=aa=ka=qa=za=sa=Ba=T=Pa=w.dragged=w.ghost=w.clone=w.active=null;Na.forEach(function(b){b.checked=!0});Na.length=$a=ab=0},handleEvent:function(b){switch(b.type){case "drop":case "dragend":this._onDrop(b);break;case "dragenter":case "dragover":v&&(this._onDragOver(b),b.dataTransfer&&
(b.dataTransfer.dropEffect="move"),b.cancelable&&b.preventDefault());break;case "selectstart":b.preventDefault()}},toArray:function(){for(var b=[],e,a=this.el.children,d=0,c=a.length,h=this.options;d<c;d++)e=a[d],G(e,h.draggable,this.el,!1)&&b.push(e.getAttribute(h.dataIdAttr)||X(e));return b},sort:function(b){var e={},a=this.el;this.toArray().forEach(function(b,d){d=a.children[d];G(d,this.options.draggable,a,!1)&&(e[b]=d)},this);b.forEach(function(b){e[b]&&(a.removeChild(e[b]),a.appendChild(e[b]))})},
save:function(){var b=this.options.store;b&&b.set&&b.set(this)},closest:function(b,e){return G(b,e||this.options.draggable,this.el,!1)},option:function(b,e){var a=this.options;if(void 0===e)return a[b];var d=ya.modifyOption(this,b,e);a[b]="undefined"!==typeof d?d:e;"group"===b&&mb(a)},destroy:function(){Z("destroy",this);var b=this.el;b[U]=null;c(b,"mousedown",this._onTapStart);c(b,"touchstart",this._onTapStart);c(b,"pointerdown",this._onTapStart);this.nativeDraggable&&(c(b,"dragover",this),c(b,"dragenter",
this));Array.prototype.forEach.call(b.querySelectorAll("[draggable]"),function(b){b.removeAttribute("draggable")});this._onDrop();La.splice(La.indexOf(this.el),1);this.el=b=null},_hideClone:function(){la||(Z("hideClone",this),w.eventCanceled||(l(N,"display","none"),this.options.removeCloneOnHide&&N.parentNode&&N.parentNode.removeChild(N),la=!0))},_showClone:function(b){"clone"!==b.lastPutMode?this._hideClone():la&&(Z("showClone",this),w.eventCanceled||(M.contains(v)&&!this.options.group.revertClone?
M.insertBefore(N,v):ma?M.insertBefore(N,ma):M.appendChild(N),this.options.group.revertClone&&this.animate(v,N),l(N,"display",""),la=!1))}};m(document,"touchmove",function(b){(w.active||ra)&&b.cancelable&&b.preventDefault()});w.utils={on:m,off:c,css:l,find:k,is:function(b,e){return!!G(b,e,b,!1)},extend:function(b,e){if(b&&e)for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);return b},throttle:K,closest:G,toggleClass:A,clone:d,index:p,nextTick:Ja,cancelNextTick:function(b){return clearTimeout(b)},detectDirection:lb,
getChild:S};w.get=function(b){return b[U]};w.mount=function(){for(var b=arguments.length,e=Array(b),a=0;a<b;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]);e.forEach(function(b){if(!b.prototype||!b.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(b));b.utils&&(w.utils=z({},w.utils,b.utils));ya.mount(b)})};w.create=function(b,e){return new w(b,e)};w.version="1.10.0";var P=[],Fa,cb,db=!1,eb,fb,Sa,ta,gb=K(function(b,e,a,d){if(e.scroll){var g=
(b.touches?b.touches[0]:b).clientX,c=(b.touches?b.touches[0]:b).clientY,f=e.scrollSensitivity,r=e.scrollSpeed,k=h(),x=!1,y;cb!==a&&(cb=a,ha(),Fa=e.scroll,y=e.scrollFn,!0===Fa&&(Fa=J(a,!0)));a=0;var m=Fa;do{var C=m,G=H(C),u=G.top,B=G.bottom,q=G.left,p=G.right,K=G.width,G=G.height,v=void 0,t=void 0,A=C.scrollWidth,z=C.scrollHeight,t=l(C),D=C.scrollLeft,E=C.scrollTop;C===k?(v=K<A&&("auto"===t.overflowX||"scroll"===t.overflowX||"visible"===t.overflowX),t=G<z&&("auto"===t.overflowY||"scroll"===t.overflowY||
"visible"===t.overflowY)):(v=K<A&&("auto"===t.overflowX||"scroll"===t.overflowX),t=G<z&&("auto"===t.overflowY||"scroll"===t.overflowY));q=v&&(Math.abs(p-g)<=f&&D+K<A)-(Math.abs(q-g)<=f&&!!D);u=t&&(Math.abs(B-c)<=f&&E+G<z)-(Math.abs(u-c)<=f&&!!E);if(!P[a])for(B=0;B<=a;B++)P[B]||(P[B]={});if(P[a].vx!=q||P[a].vy!=u||P[a].el!==C)if(P[a].el=C,P[a].vx=q,P[a].vy=u,clearInterval(P[a].pid),0!=q||0!=u)x=!0,P[a].pid=setInterval(function(){d&&0===this.layer&&w.active._onTouchMove(Sa);var a=P[this.layer].vy?P[this.layer].vy*
r:0,e=P[this.layer].vx?P[this.layer].vx*r:0;"function"===typeof y&&"continue"!==y.call(w.dragged.parentNode[U],e,a,b,Sa,P[this.layer].el)||n(P[this.layer].el,e,a)}.bind({layer:a}),24);a++}while(e.bubbleScroll&&m!==k&&(m=J(m,!1)));db=x}},30),tb=function(b){var a=b.originalEvent,d=b.putSortable,c=b.dragEl,h=b.activeSortable,f=b.dispatchSortableEvent,r=b.hideGhostForTarget;b=b.unhideGhostForTarget;h=d||h;r();a=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a;a=document.elementFromPoint(a.clientX,
a.clientY);b();h&&!h.el.contains(a)&&(f("spill"),this.onSpill({dragEl:c,putSortable:d}))};va.prototype={startIndex:null,dragStart:function(b){this.startIndex=b.oldDraggableIndex},onSpill:function(b){var a=b.dragEl;b=b.putSortable;this.sortable.captureAnimationState();b&&b.captureAnimationState();var d=S(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(a,d):this.sortable.el.appendChild(a);this.sortable.animateAll();b&&b.animateAll()},drop:tb};E(va,{pluginName:"revertOnSpill"});
Wa.prototype={onSpill:function(b){var a=b.dragEl;b=b.putSortable||this.sortable;b.captureAnimationState();a.parentNode&&a.parentNode.removeChild(a);b.animateAll()},drop:tb};E(Wa,{pluginName:"removeOnSpill"});var ea,D=[],ba=[],Ga,ga,Ha=!1,ca=!1,Ia=!1,L,pa,Ta;w.mount(new function(){function b(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var b in this)"_"===b.charAt(0)&&"function"===typeof this[b]&&(this[b]=this[b].bind(this))}b.prototype={dragStarted:function(b){b=
b.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):b.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(b){b=b.originalEvent;this.options.dragOverBubble||b.rootEl||this._handleAutoScroll(b)},drop:function(){this.sortable.nativeDraggable?c(document,"dragover",this._handleAutoScroll):
(c(document,"pointermove",this._handleFallbackAutoScroll),c(document,"touchmove",this._handleFallbackAutoScroll),c(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(ta);ha();clearTimeout(xa);xa=void 0},nulling:function(){Sa=cb=Fa=db=ta=eb=fb=null;P.length=0},_handleFallbackAutoScroll:function(b){this._handleAutoScroll(b,!0)},_handleAutoScroll:function(b,a){var e=this,d=(b.touches?b.touches[0]:b).clientX,g=(b.touches?b.touches[0]:b).clientY,c=document.elementFromPoint(d,g);Sa=b;if(a||
wa||ia||Ya){gb(b,this.options,c,a);var f=J(c,!0);!db||ta&&d===eb&&g===fb||(ta&&clearInterval(ta),ta=setInterval(function(){var c=J(document.elementFromPoint(d,g),!0);c!==f&&(f=c,ha());gb(b,e.options,c,a)},10),eb=d,fb=g)}else this.options.bubbleScroll&&J(c,!0)!==h()?gb(b,this.options,J(c,!1),!1):ha()}};return E(b,{pluginName:"scroll",initializeByDefault:!0})});w.mount(Wa,va);w.mount(new function(){function b(){this.defaults={swapClass:"sortable-swap-highlight"}}b.prototype={dragStart:function(b){ea=
b.dragEl},dragOverValid:function(b){var a=b.completed,e=b.target,d=b.onMove,c=b.changed,h=b.cancel;if(b.activeSortable.options.swap){var f=this.sortable.el;b=this.options;e&&e!==f&&(f=ea,!1!==d(e)?(A(e,b.swapClass,!0),ea=e):ea=null,f&&f!==ea&&A(f,b.swapClass,!1));c();a(!0);h()}},drop:function(b){var a=b.activeSortable,e=b.putSortable;b=b.dragEl;var d=e||this.sortable,c=this.options;ea&&A(ea,c.swapClass,!1);if(ea&&(c.swap||e&&e.options.swap)&&b!==ea){d.captureAnimationState();d!==a&&a.captureAnimationState();
var e=ea,c=b.parentNode,h=e.parentNode,f,r;c&&h&&!c.isEqualNode(e)&&!h.isEqualNode(b)&&(f=p(b),r=p(e),c.isEqualNode(h)&&f<r&&r++,c.insertBefore(e,c.children[f]),h.insertBefore(b,h.children[r]));d.animateAll();d!==a&&a.animateAll()}},nulling:function(){ea=null}};return E(b,{pluginName:"swap",eventProperties:function(){return{swapItem:ea}}})});w.mount(new function(){function b(b){for(var a in this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this));b.options.supportPointer?
m(document,"pointerup",this._deselectMultiDrag):(m(document,"mouseup",this._deselectMultiDrag),m(document,"touchend",this._deselectMultiDrag));m(document,"keydown",this._checkKeyDown);m(document,"keyup",this._checkKeyUp);this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,e){var d="";D.length&&ga===b?D.forEach(function(b,a){d+=(a?", ":"")+b.textContent}):d=e.textContent;a.setData("Text",d)}}}b.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(b){L=
b.dragEl},delayEnded:function(){this.isMultiDrag=~D.indexOf(L)},setupClone:function(b){var a=b.sortable;b=b.cancel;if(this.isMultiDrag){for(var e=0;e<D.length;e++)ba.push(d(D[e])),ba[e].sortableIndex=D[e].sortableIndex,ba[e].draggable=!1,ba[e].style["will-change"]="",A(ba[e],this.options.selectedClass,!1),D[e]===L&&A(ba[e],this.options.chosenClass,!1);a._hideClone();b()}},clone:function(b){var a=b.sortable,e=b.rootEl,d=b.dispatchSortableEvent;b=b.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&
D.length&&ga===a&&(hb(!0,e),d("clone"),b())},showClone:function(b){var a=b.cloneNowShown,e=b.cancel;this.isMultiDrag&&(hb(!1,b.rootEl),ba.forEach(function(b){l(b,"display","")}),a(),Ta=!1,e())},hideClone:function(b){var a=this,e=b.cloneNowHidden;b=b.cancel;this.isMultiDrag&&(ba.forEach(function(b){l(b,"display","none");a.options.removeCloneOnHide&&b.parentNode&&b.parentNode.removeChild(b)}),e(),Ta=!0,b())},dragStartGlobal:function(b){!this.isMultiDrag&&ga&&ga.multiDrag._deselectMultiDrag();D.forEach(function(b){b.sortableIndex=
p(b)});D=D.sort(function(b,a){return b.sortableIndex-a.sortableIndex});Ia=!0},dragStarted:function(b){var a=this;b=b.sortable;if(this.isMultiDrag){if(this.options.sort&&(b.captureAnimationState(),this.options.animation)){D.forEach(function(b){b!==L&&l(b,"position","absolute")});var e=H(L,!1,!0,!0);D.forEach(function(b){b!==L&&B(b,e)});Ha=ca=!0}b.animateAll(function(){Ha=ca=!1;a.options.animation&&D.forEach(function(b){da(b)});a.options.sort&&Ka()})}},dragOver:function(b){var a=b.target,e=b.completed;
b=b.cancel;ca&&~D.indexOf(a)&&(e(!1),b())},revert:function(b){var a=b.fromSortable,e=b.rootEl,d=b.sortable,c=b.dragRect;1<D.length&&(D.forEach(function(b){d.addAnimationState({target:b,rect:ca?H(b):c});da(b);b.fromRect=c;a.removeAnimationState(b)}),ca=!1,yb(!this.options.removeCloneOnHide,e))},dragOverCompleted:function(b){var a=b.sortable,e=b.isOwner,d=b.activeSortable,c=b.parentEl,h=b.putSortable,f=this.options;if(b.insertion){e&&d._hideClone();Ha=!1;if(f.animation&&1<D.length&&(ca||!e&&!d.options.sort&&
!h)){var r=H(L,!1,!0,!0);D.forEach(function(b){b!==L&&(B(b,r),c.appendChild(b))});ca=!0}e||(ca||Ka(),1<D.length?(b=Ta,d._showClone(a),d.options.animation&&!Ta&&b&&ba.forEach(function(b){d.addAnimationState({target:b,rect:pa});b.fromRect=pa;b.thisAnimationDuration=null})):d._showClone(a))}},dragOverAnimationCapture:function(b){var a=b.dragRect,e=b.isOwner;b=b.activeSortable;D.forEach(function(b){b.thisAnimationDuration=null});b.options.animation&&!e&&b.multiDrag.isMultiDrag&&(pa=E({},a),a=t(L,!0),
pa.top-=a.f,pa.left-=a.e)},dragOverAnimationComplete:function(){ca&&(ca=!1,Ka())},drop:function(b){var a=b.originalEvent,e=b.rootEl,d=b.parentEl,c=b.sortable,h=b.dispatchSortableEvent,f=b.oldIndex,r=(b=b.putSortable)||this.sortable;if(a){var n=this.options,k=d.children;if(!Ia)if(n.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),A(L,n.selectedClass,!~D.indexOf(L)),~D.indexOf(L))D.splice(D.indexOf(L),1),Ga=null,ja({sortable:c,rootEl:e,name:"deselect",targetEl:L,originalEvt:a});else{D.push(L);
ja({sortable:c,rootEl:e,name:"select",targetEl:L,originalEvt:a});if(a.shiftKey&&Ga&&c.el.contains(Ga)){var y=p(Ga),m=p(L);if(~y&&~m&&y!==m){var l;m>y?(l=y,y=m):(l=m,y+=1);for(;l<y;l++)~D.indexOf(k[l])||(A(k[l],n.selectedClass,!0),D.push(k[l]),ja({sortable:c,rootEl:e,name:"select",targetEl:k[l],originalEvt:a}))}}else Ga=L;ga=r}if(Ia&&this.isMultiDrag){if((d[U].options.sort||d!==e)&&1<D.length){var C=H(L),G=p(L,":not(."+this.options.selectedClass+")");!Ha&&n.animation&&(L.thisAnimationDuration=null);
r.captureAnimationState();if(!Ha&&(n.animation&&(L.fromRect=C,D.forEach(function(b){b.thisAnimationDuration=null;if(b!==L){var a=ca?H(b):C;b.fromRect=a;r.addAnimationState({target:b,rect:a})}})),Ka(),D.forEach(function(b){k[G]?d.insertBefore(b,k[G]):d.appendChild(b);G++}),f===p(L))){var u=!1;D.forEach(function(b){b.sortableIndex!==p(b)&&(u=!0)});u&&h("update")}D.forEach(function(b){da(b)});r.animateAll()}ga=r}(e===d||b&&"clone"!==b.lastPutMode)&&ba.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},
nullingGlobal:function(){this.isMultiDrag=Ia=!1;ba.length=0},destroyGlobal:function(){this._deselectMultiDrag();c(document,"pointerup",this._deselectMultiDrag);c(document,"mouseup",this._deselectMultiDrag);c(document,"touchend",this._deselectMultiDrag);c(document,"keydown",this._checkKeyDown);c(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(b){if(!(Ia||ga!==this.sortable||b&&G(b.target,this.options.draggable,this.sortable.el,!1)||b&&0!==b.button))for(;D.length;){var a=D[0];A(a,this.options.selectedClass,
!1);D.shift();ja({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a,originalEvt:b})}},_checkKeyDown:function(b){b.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(b){b.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}};return E(b,{pluginName:"multiDrag",utils:{select:function(b){var a=b.parentNode[U];a&&a.options.multiDrag&&!~D.indexOf(b)&&(ga&&ga!==a&&(ga.multiDrag._deselectMultiDrag(),ga=a),A(b,a.options.selectedClass,!0),D.push(b))},
deselect:function(b){var a=b.parentNode[U],d=D.indexOf(b);a&&a.options.multiDrag&&~d&&(A(b,a.options.selectedClass,!1),D.splice(d,1))}},eventProperties:function(){var b=this,a=[],d=[];D.forEach(function(e){a.push({multiDragElement:e,index:e.sortableIndex});var c;c=ca&&e!==L?-1:ca?p(e,":not(."+b.options.selectedClass+")"):p(e);d.push({multiDragElement:e,index:c})});return{items:q(D),clones:[].concat(ba),oldIndicies:a,newIndicies:d}},optionListeners:{multiDragKey:function(b){b=b.toLowerCase();"ctrl"===
b?b="Control":1<b.length&&(b=b.charAt(0).toUpperCase()+b.substr(1));return b}}})});return w})},"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),function(F,E,z,f,q,a,m,c,u,G,A){var l=q.ofType(G);return function(a){function k(c){c=
a.call(this,c)||this;c._handles=new m;c.listItemCreatedFunction=null;c.operationalItems=new l;c.view=null;return c}z(k,a);k.prototype.initialize=function(){var a=this;this._handles.add(c.init(this,["view","view.ready"],function(){return a._viewHandles()}),"view")};k.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(k.prototype,"state",{get:function(){var a=this.get("view");return this.get("view.ready")?"ready":
a?"loading":"disabled"},enumerable:!0,configurable:!0});k.prototype.triggerAction=function(a,c){a&&this.emit("trigger-action",{action:a,item:c})};k.prototype._createLayerViewHandles=function(a){var c=this,f=this._handles;f.remove("layer-views");this._compileList();a&&f.add(a.on("change",function(){return c._compileList()}),"layer-views")};k.prototype._createMapLayerHandles=function(a){var c=this,f=this._handles;f.remove("map-layers");this._compileList();a&&f.add(a.on("change",function(){return c._compileList()}),
"map-layers")};k.prototype._watchItemProperties=function(a){var c=this;this._handles.add([a.children.on("change",function(){c._modifyListItemChildren(a.children)})],"children-change-"+a.uid)};k.prototype._modifyListItemChildren=function(a){var c=this;a.forEach(function(a){return c._modifyListItem(a)})};k.prototype._modifyListItem=function(a){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:a});this._modifyListItemChildren(a.children)};k.prototype._createListItem=
function(a){a=new G({layer:a,view:this.view});this._watchItemProperties(a);return a};k.prototype._removeAllItems=function(){var a=this._handles,c=this.operationalItems;c.forEach(function(c){a.remove("children-change-"+c.uid)});c.removeAll()};k.prototype._getViewableLayers=function(a){if(a)return a.filter(function(a){return"hide"!==A.findLayerListMode(a)})};k.prototype._watchLayersListMode=function(a){var f=this,h=this._handles;h.remove("layer-list-mode");a&&a.forEach(function(a){h.add(c.watch(a,"listMode",
function(){return f._compileList()}),"layer-list-mode")})};k.prototype._compileList=function(){var a=this.get("view.map.layers");this._watchLayersListMode(a);(a=this._getViewableLayers(a))&&a.length?(this._createNewItems(a),this._modifyOrRemoveItems(a),this._sortItems(a)):this._removeAllItems()};k.prototype._createNewItems=function(a){var c=this,f=this.operationalItems;a.forEach(function(a){f.find(function(c){return c.layer===a})||f.add(c._createListItem(a))})};k.prototype._modifyOrRemoveItems=function(a){var c=
this,f=this._handles,h=this.operationalItems;h.forEach(function(k){k&&(a&&a.find(function(a){return k.layer===a})?c._modifyListItem(k):(f.remove("children-change-"+k.uid),h.remove(k)))})};k.prototype._sortItems=function(a){this.operationalItems.sort(function(c,f){c=a.indexOf(c.layer);f=a.indexOf(f.layer);return c>f?-1:c<f?1:0})};k.prototype._viewHandles=function(){var a=this,f=this._handles,k=this.view;f.remove(["map-layers","layer-views","view-layers"]);this._compileList();k&&k.ready&&f.add([c.init(this,
"view.map.layers",function(c){return a._createMapLayerHandles(c)}),c.init(this,"view.layerViews",function(c){return a._createLayerViewHandles(c)}),c.init(this,"listItemCreatedFunction",function(){return a._compileList()})],"view-layers")};f([u.property()],k.prototype,"listItemCreatedFunction",void 0);f([u.property({type:l})],k.prototype,"operationalItems",void 0);f([u.property({dependsOn:["view.ready"],readOnly:!0})],k.prototype,"state",null);f([u.property()],k.prototype,"view",void 0);return k=f([u.subclass("esri.widgets.LayerList.LayerListViewModel")],
k)}(u.declared(a.EventedAccessor))})},"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/Collection ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(F,E,z,f,q,a,m,c,u,G,A,l,t,k,h,H,Y,S,O){F=c.ofType({key:"type",defaultKeyValue:"button",base:k,typeMap:{button:h,toggle:Y,slider:H}});var p=c.ofType(F);return function(h){function k(a){a=h.call(this,a)||this;a._handles=new u;a.actionsSections=new p;a.actionsOpen=!1;a.children=new (c.ofType(m));a.error=null;a.layer=null;a.layerView=null;a.open=!1;a.panel=null;a.parent=null;a.view=null;a.visible=null;return a}z(k,h);m=k;k.prototype.initialize=function(){var a=this;this._handles.add([A.init(this,
"layer",function(c){return a._watchLayerProperties(c)}),A.init(this,"view",function(c){return a._updateChildren(c)}),A.init(this,"panel",function(c){return a._setListItemOnPanel(c)}),A.init(this,["layer","view"],function(){return a._getLayerView()})])};k.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null};k.prototype.castPanel=function(a){this.get("panel.open")&&!a.hasOwnProperty("open")&&(a.open=!0);return a?new S(a):null};Object.defineProperty(k.prototype,"title",
{get:function(){var a=this.get("layer.layer");return(!a||a&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"updating",{get:function(){var a=this.layerView;return a?a.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"visibleAtCurrentScale",{get:function(){return!O.isLayerOutsideScaleRange(this.layer,
this.get("view.scale"))},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"visibilityMode",{get:function(){return O.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0});k.prototype.clone=function(){return new m({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};k.prototype._setListItemOnPanel=function(a){a&&
(a.listItem=this)};k.prototype._updateChildren=function(a){var c=this.children;c&&c.forEach(function(c){return c.view=a})};k.prototype._addChildren=function(a){var c=this;this.children.removeAll();if(a){this._handles.remove("child-list-mode");a.forEach(function(d){c._handles.add(A.watch(d,"listMode",function(){return c._addChildren(a)}),"child-list-mode")});var f=[];a.filter(function(a){return"hide"!==O.findLayerListMode(a)}).forEach(function(a){O.canDisplayLayer(a)&&(a=new m({layer:a,parent:c,view:c.view}),
f.unshift(a))});this.children.addMany(f)}};k.prototype._watchSublayerChanges=function(a){var c=this;a&&this._handles.add(a.on("change",function(){c._addChildren(a)}),"layer")};k.prototype._initializeChildLayers=function(a){this._addChildren(a);this._watchSublayerChanges(a)};k.prototype._watchLayerProperties=function(a){var c=this;if(this._handles&&(this._handles.remove("layer"),a))if(this._handles.add(A.watch(a,"listMode",function(){return c._watchLayerProperties(a)}),"layer"),"hide-children"===O.findLayerListMode(a))this.children.removeAll();
else{var f=O.getNormalizedChildLayerProperty(a);f&&this._handles.add(A.init(a,f,function(){a.hasOwnProperty(f)&&c._initializeChildLayers(a[f])}),"layer")}};k.prototype._getLayerView=function(){return a(this,void 0,void 0,function(){var a,c,f,d;return q(this,function(h){switch(h.label){case 0:a=this;c=a.layer;f=a.view;if(!c||!f)return[2];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,f.whenLayerView(c)];case 2:d=h.sent();if(d.layer!==this.layer)return[2];this._set("layerView",d);return[3,4];case 3:return h.sent(),
[3,4];case 4:return[2]}})})};k.prototype._isLayerUpdating=function(a){return a instanceof t?!1:a&&"loading"===a.loadStatus};var m;f([l.property({type:p})],k.prototype,"actionsSections",void 0);f([l.property()],k.prototype,"actionsOpen",void 0);f([l.property({type:c})],k.prototype,"children",void 0);f([l.aliasOf("layer.loadError?")],k.prototype,"error",void 0);f([l.property()],k.prototype,"layer",void 0);f([l.property({readOnly:!0})],k.prototype,"layerView",void 0);f([l.property()],k.prototype,"open",
void 0);f([l.property({type:S})],k.prototype,"panel",void 0);f([l.cast("panel")],k.prototype,"castPanel",null);f([l.property()],k.prototype,"parent",void 0);f([l.property({dependsOn:["layer.layer?.loaded","layer.title"]})],k.prototype,"title",null);f([l.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],k.prototype,"updating",null);f([l.property({value:null})],k.prototype,"view",void 0);f([l.aliasOf("layer.visible")],k.prototype,"visible",void 0);f([l.property({dependsOn:["layer.minScale?",
"layer.maxScale?","view.scale"],readOnly:!0})],k.prototype,"visibleAtCurrentScale",null);f([l.property({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],readOnly:!0})],k.prototype,"visibilityMode",null);return k=m=f([l.subclass("esri.widgets.LayerList.ListItem")],k)}(l.declared(G.IdentifiableMixin(m)))})},"esri/support/actions/ActionSlider":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),
function(F,E,z,f,q,a){return function(a){function c(c){c=a.call(this,c)||this;c.displayValueEnabled=!1;c.max=1;c.min=0;c.step=.1;c.type="slider";c.value=null;return c}z(c,a);m=c;c.prototype.clone=function(){return new m({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var m;f([q.property()],c.prototype,
"displayValueEnabled",void 0);f([q.property()],c.prototype,"max",void 0);f([q.property()],c.prototype,"min",void 0);f([q.property()],c.prototype,"step",void 0);f([q.property()],c.prototype,"value",void 0);return c=m=f([q.subclass("esri.support.Action.ActionSlider")],c)}(q.declared(a))})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/Identifiable ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget".split(" "),
function(F,E,z,f,q,a,m,c,u,G,A){return function(a){function l(c){c=a.call(this,c)||this;c._legend=null;c._handles=new q;c.content=null;c.image=null;c.listItem=null;c.open=!1;c.visible=!0;return c}z(l,a);l.prototype.postInitialize=function(){var a=this;this.own([c.init(this,"content",function(c){return a._createLegend(c)})])};l.prototype.destroy=function(){var a=this._legend;a&&a.destroy();this._legend=null};Object.defineProperty(l.prototype,"className",{get:function(){var a=this.image,c=this._getFirstWidget();
return this._get("className")||!a&&c?c.iconClass:""},set:function(a){void 0===a?this._clearOverride("className"):this._override("className",a)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"title",{get:function(){var a=this._getFirstWidget();return this._get("title")||a?a.label:""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});l.prototype.render=function(){return A.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};
l.prototype._renderContent=function(a){var c=this._legend,f=this.listItem;return a?"legend"===a?f&&f.view&&f.layer&&c?A.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:c},c.render()):null:"string"===typeof a?A.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:a,innerHTML:a}):A.isWidget(a)?A.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),
key:a},a.render()):a instanceof HTMLElement?A.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:a,bind:a,afterCreate:this._attachToNode}):null:null};l.prototype._renderContents=function(){var a=this,c=this.content;return Array.isArray(c)?c.map(function(c){return a._renderContent(c)}):this._renderContent(c)};l.prototype._getLegendOptions=function(a){if(a){var c=a.layer;a=a.view;if(c&&a)return{view:a,layerInfos:[{layer:c,title:""}]}}};
l.prototype._createLegend=function(a){var f=this;this._hasLegend(a)&&!this._legend&&m.create(function(a){F(["../Legend"],a)}).then(function(a){var h=f._handles,k=new a(f._getLegendOptions(f.listItem));f._legend=k;f.notifyChange("className");f.notifyChange("title");a=c.init(f,["listItem.view","listItem.layer"],function(){return f._updateLegend(k)});h.add(a,"legends");f.scheduleRender()})};l.prototype._hasLegend=function(a){return"legend"===a?!0:Array.isArray(a)?a.some(function(a){return"legend"===
a}):!1};l.prototype._attachToNode=function(a){a.appendChild(this)};l.prototype._updateLegend=function(a){var c=this.listItem;if(c){var f=c.layer;a.view=c.view;a.layerInfos=[{layer:f,title:null}];this.scheduleRender()}};l.prototype._getWidget=function(a){return"legend"===a?this._legend:A.isWidget(a)?a:null};l.prototype._getFirstWidget=function(){var a=this,c=this.content;if(Array.isArray(c)){var f=null;c.some(function(c){(c=a._getWidget(c))&&(f=c);return!!c});return f}return this._getWidget(c)};f([u.property({dependsOn:["content",
"image"]})],l.prototype,"className",null);f([u.property(),A.renderable()],l.prototype,"content",void 0);f([u.property()],l.prototype,"image",void 0);f([u.property()],l.prototype,"listItem",void 0);f([u.property({dependsOn:["content"]})],l.prototype,"title",null);f([u.property(),A.renderable()],l.prototype,"open",void 0);f([u.property()],l.prototype,"visible",void 0);return l=f([u.subclass("esri.widgets.LayerList.ListItemPanel")],l)}(u.declared(a.IdentifiableMixin(G)))})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require",
"exports"],function(F,E){function z(a){if(a)return null!=a.listMode?a.listMode:void 0}function f(a){if(a)return null!=a.minScale?a.minScale:void 0}function q(a){if(a)return null!=a.maxScale?a.maxScale:void 0}Object.defineProperty(E,"__esModule",{value:!0});E.findLayerListMode=z;E.findLayerMinScale=f;E.findLayerMaxScale=q;E.findLayerVisibilityMode=function(a){if(!a)return"inherited";var f=a.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===typeof f)return f?"independent":
"inherited";f=a.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof f?f?"independent":"inherited":null!=a.visibilityMode?a.visibilityMode:"independent"};E.getNormalizedChildLayerProperty=function(a){if(a&&"hide-children"!==a.listMode&&"wmts"!==a.type)return"group"===a.type?"layers":"sublayers"};E.canDisplayLayer=function(a){return"hide"!==z(a)};E.isLayerOutsideScaleRange=function(a,m){if(!a||isNaN(m))return!1;var c=f(a);a=q(a);c=!isNaN(c)&&0<c&&m>=c;m=!isNaN(a)&&0<a&&
m<=a;return c||m}})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),function(F,E,z,f,q,a,m){return E([z,f,q],{templateString:a,sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,postCreate:function(){this.inherited(arguments);this.cbx.onChange=m.hitch(this,this._onCbxChanged);this.own(this.layer.watch("title",
m.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",m.hitch(this,function(){this._updateVisibilityUI()})));this.layer.when(m.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),m.hitch(this,function(a){console.error(a);this.domNode&&F.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},_onClickSelf:function(a){a=a.target;a===this.cbx.domNode||F.isDescendant(a,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},
_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var a=this.layer.get("visible");a!==this.cbx.getValue()&&this.cbx.setValue(a);this.domNode.title=a?this.nls.hide:this.nls.show},_onCbxChanged:function(){this.cbx.getValue()!==this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},_onBtnZoomClicked:function(a){a.stopPropagation();if(a=this.layer.extent||this.layer.fullExtent)a=a.expand(1.2),this.sceneView.goTo(a)},
destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(F,E,z,f,q){return z("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var a=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);q.parse(a,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(f.hitch(this,function(a){this._startupWidgets=a;for(var c=0;c<a.length;c++)this._processTemplateNode(a[c],function(a,c){return a[c]},function(a,c,f){return c in a?a.connect(a,c,f):a.on(c,f,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(a,f,c){return f(a,"dojoType")||f(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){F.forEach(this._startupWidgets,function(a){a&&!a._started&&a.startup&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(F,E,z,f,q,a,m,c,u,G,A,l,t,k,h,H){function Y(a){return eval("("+a+")")}function S(a){var c=a._nameCaseMap,f=a.prototype;if(!c||c._extendCnt<p){var c=a._nameCaseMap={},h;for(h in f)"_"!==h.charAt(0)&&(c[h.toLowerCase()]=h);c._extendCnt=p}return c}function O(a,c){c||(c=F);var f=c._dojoParserCtorMap||(c._dojoParserCtorMap={}),h=a.join();if(!f[h]){for(var l=[],n=0,d=a.length;n<d;n++){var k=a[n];l[l.length]=f[k]=f[k]||z.getObject(k)||~k.indexOf("/")&&c(k)}a=l.shift();f[h]=l.length?a.createSubclass?
a.createSubclass(l):a.extend.apply(a,l):a}return f[h]}new Date("X");var p=0;u.after(z,"extend",function(){p++},!0);t={_clearCache:function(){p++;_ctorMap={}},_functionFromScript:function(a,c){var h="",l="",k=a.getAttribute(c+"args")||a.getAttribute("args");c=a.getAttribute("with");k=(k||"").split(/\s*,\s*/);c&&c.length&&f.forEach(c.split(/\s*,\s*/),function(a){h+="with("+a+"){";l+="}"});return new Function(k,h+a.innerHTML+l)},instantiate:function(a,c,h){c=c||{};h=h||{};var l=(h.scope||E._scopeName)+
"Type",k="data-"+(h.scope||E._scopeName)+"-",n=k+"type",d=k+"mixins",m=[];f.forEach(a,function(a){var f=l in c?c[l]:a.getAttribute(n)||a.getAttribute(l);if(f){var h=a.getAttribute(d),f=h?[f].concat(h.split(/\s*,\s*/)):[f];m.push({node:a,types:f})}});return this._instantiate(m,c,h)},_instantiate:function(a,c,h,l){function k(a){c._started||h.noStart||f.forEach(a,function(a){"function"!==typeof a.startup||a._started||a.startup()});return a}a=f.map(a,function(a){var d=a.ctor||O(a.types,h.contextRequire);
if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,c,h,a.scripts,a.inherited)},this);return l?G(a).then(k):k(a)},construct:function(a,f,l,m,G,n){function d(a){F&&z.setObject(F,a);for(w=0;w<X.length;w++)u[X[w].advice||"after"](a,X[w].method,z.hitch(a,X[w].func),!0);for(w=0;w<ua.length;w++)ua[w].call(a);for(w=0;w<O.length;w++)a.watch(O[w].prop,O[w].func);for(w=0;w<ha.length;w++)h(a,ha[w].event,ha[w].func);return a}var r=a&&a.prototype;m=m||{};
var q={};m.defaults&&z.mixin(q,m.defaults);n&&z.mixin(q,n);var p;p=f.attributes;var C=m.scope||E._scopeName;n="data-"+C+"-";var t={};"dojo"!==C&&(t[n+"props"]="data-dojo-props",t[n+"type"]="data-dojo-type",t[n+"mixins"]="data-dojo-mixins",t[C+"type"]="dojotype",t[n+"id"]="data-dojo-id");for(var w=0,y,C=[],F,H;y=p[w++];){var J=y.name,K=J.toLowerCase();y=y.value;switch(t[K]||K){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":H=y;break;case "data-dojo-id":case "jsid":F=
y;break;case "data-dojo-attach-point":case "dojoattachpoint":q.dojoAttachPoint=y;break;case "data-dojo-attach-event":case "dojoattachevent":q.dojoAttachEvent=y;break;case "class":q["class"]=f.className;break;case "style":q.style=f.style&&f.style.cssText;break;default:if(J in r||(J=S(a)[K]||J),J in r)switch(typeof r[J]){case "string":q[J]=y;break;case "number":q[J]=y.length?Number(y):NaN;break;case "boolean":q[J]="false"!=y.toLowerCase();break;case "function":""===y||-1!=y.search(/[^\w\.]+/i)?q[J]=
new Function(y):q[J]=z.getObject(y,!1)||new Function(y);C.push(J);break;default:K=r[J],q[J]=K&&"length"in K?y?y.split(/\s*,\s*/):[]:K instanceof Date?""==y?new Date(""):"now"==y?new Date:A.fromISOString(y):K instanceof c?E.baseUrl+y:Y(y)}else q[J]=y}}for(p=0;p<C.length;p++)t=C[p].toLowerCase(),f.removeAttribute(t),f[t]=null;if(H)try{H=Y.call(m.propsThis,"{"+H+"}"),z.mixin(q,H)}catch(va){throw Error(va.toString()+" in data-dojo-props\x3d'"+H+"'");}z.mixin(q,l);G||(G=a&&(a._noScript||r._noScript)?[]:
k("\x3e script[type^\x3d'dojo/']",f));var X=[],ua=[],O=[],ha=[];if(G)for(w=0;w<G.length;w++)t=G[w],f.removeChild(t),l=t.getAttribute(n+"event")||t.getAttribute("event"),m=t.getAttribute(n+"prop"),H=t.getAttribute(n+"method"),C=t.getAttribute(n+"advice"),p=t.getAttribute("type"),t=this._functionFromScript(t,n),l?"dojo/connect"==p?X.push({method:l,func:t}):"dojo/on"==p?ha.push({event:l,func:t}):q[l]=t:"dojo/aspect"==p?X.push({method:H,advice:C,func:t}):"dojo/watch"==p?O.push({prop:m,func:t}):ua.push(t);
a=(G=a.markupFactory||r.markupFactory)?G(q,f,a):new a(q,f);return a.then?a.then(d):d(a)},scan:function(a,c){function h(a){if(!a.inherited){a.inherited={};var c=a.node,d=h(a.parent),c={dir:c.getAttribute("dir")||d.dir,lang:c.getAttribute("lang")||d.lang,textDir:c.getAttribute(u)||d.textDir},f;for(f in c)c[f]&&(a.inherited[f]=c[f])}return a.inherited}var k=[],m=[],n={},d=(c.scope||E._scopeName)+"Type",q="data-"+(c.scope||E._scopeName)+"-",G=q+"type",u=q+"textdir",q=q+"mixins",p=a.firstChild,t=c.inherited;
if(!t){var w=function(a,c){return a.getAttribute&&a.getAttribute(c)||a.parentNode&&w(a.parentNode,c)},t={dir:w(a,"dir"),lang:w(a,"lang"),textDir:w(a,u)},y;for(y in t)t[y]||delete t[y]}y={inherited:t};for(var A,C;;)if(p)if(1!=p.nodeType)p=p.nextSibling;else if(A&&"script"==p.nodeName.toLowerCase())(t=p.getAttribute("type"))&&/^dojo\/\w/i.test(t)&&A.push(p),p=p.nextSibling;else if(C)p=p.nextSibling;else if(t=p.getAttribute(G)||p.getAttribute(d),a=p.firstChild,t||a&&(3!=a.nodeType||a.nextSibling)){C=
null;if(t){var z=p.getAttribute(q);A=z?[t].concat(z.split(/\s*,\s*/)):[t];try{C=O(A,c.contextRequire)}catch(X){}C||f.forEach(A,function(a){~a.indexOf("/")&&!n[a]&&(n[a]=!0,m[m.length]=a)});z=C&&!C.prototype._noScript?[]:null;y={types:A,ctor:C,parent:y,node:p,scripts:z};y.inherited=h(y);k.push(y)}else y={node:p,scripts:A,parent:y};A=z;C=p.stopParser||C&&C.prototype.stopParser&&!c.template;p=a}else p=p.nextSibling;else{if(!y||!y.node)break;p=y.node.nextSibling;C=!1;y=y.parent;A=y.scripts}var H=new l;
m.length?(c.contextRequire||F)(m,function(){H.resolve(f.filter(k,function(a){if(!a.ctor)try{a.ctor=O(a.types,c.contextRequire)}catch(ha){}for(var d=a.parent;d&&!d.types;)d=d.parent;var f=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(f&&f.stopParser&&!c.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):H.resolve(k);return H.promise},_require:function(a,c){a=Y("{"+a.innerHTML+"}");var f=[],h=[],k=new l;c=c&&c.contextRequire||F;for(var m in a)f.push(m),h.push(a[m]);
c(h,function(){for(var a=0;a<f.length;a++)z.setObject(f[a],arguments[a]);k.resolve(arguments)});return k.promise},_scanAmd:function(a,c){var f=new l,h=f.promise;f.resolve(!0);var m=this;k("script[type\x3d'dojo/require']",a).forEach(function(a){h=h.then(function(){return m._require(a,c)});a.parentNode.removeChild(a)});return h},parse:function(c,f){!c||"string"==typeof c||"nodeType"in c||(f=c,c=f.rootNode);var h=c?a.byId(c):m.body();f=f||{};var l=f.template?{template:!0}:{},k=[],n=this;c=this._scanAmd(h,
f).then(function(){return n.scan(h,f)}).then(function(a){return n._instantiate(a,l,f,!0)}).then(function(a){return k=k.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});z.mixin(k,c);return k}};E.parser=t;q.parseOnLoad&&H(100,t,"parse");return t})},"dojo/_base/url":function(){define(["./kernel"],function(F){var E=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,z=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var q=
arguments,a=[q[0]],m=1;m<q.length;m++)if(q[m]){var c=new f(q[m]+""),a=new f(a[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query)null!=c.fragment&&(a.fragment=c.fragment),c=a;else if(!c.scheme&&(c.scheme=a.scheme,!c.authority&&(c.authority=a.authority,"/"!=c.path.charAt(0)))){for(var a=(a.path.substring(0,a.path.lastIndexOf("/")+1)+c.path).split("/"),u=0;u<a.length;u++)"."==a[u]?u==a.length-1?a[u]="":(a.splice(u,1),u--):0<u&&(1!=u||""!=a[0])&&".."==a[u]&&".."!=a[u-1]&&(u==a.length-1?(a.splice(u,
1),a[u-1]=""):(a.splice(u-1,2),u-=2));c.path=a.join("/")}a=[];c.scheme&&a.push(c.scheme,":");c.authority&&a.push("//",c.authority);a.push(c.path);c.query&&a.push("?",c.query);c.fragment&&a.push("#",c.fragment)}this.uri=a.join("");q=this.uri.match(E);this.scheme=q[2]||(q[1]?"":null);this.authority=q[4]||(q[3]?"":null);this.path=q[5];this.query=q[7]||(q[6]?"":null);this.fragment=q[9]||(q[8]?"":null);null!=this.authority&&(q=this.authority.match(z),this.user=q[3]||null,this.password=q[4]||null,this.host=
q[6]||q[7],this.port=q[9]||null)};f.prototype.toString=function(){return this.uri};return F._Url=f})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(F,E){var z={};F.setObject("dojo.date.stamp",z);z.fromISOString=function(f,q){z._isoRegExp||(z._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var a=z._isoRegExp.exec(f);f=null;if(a){a.shift();a[1]&&a[1]--;a[6]&&(a[6]*=1E3);q&&(q=new Date(q),E.forEach(E.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return q["get"+a]()}),function(c,f){a[f]=a[f]||c}));f=new Date(a[0]||1970,a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0);100>a[0]&&f.setFullYear(a[0]||1970);var m=0,c=a[7]&&a[7].charAt(0);"Z"!=c&&(m=60*(a[8]||0)+(Number(a[9])||0),"-"!=c&&(m*=-1));c&&(m-=f.getTimezoneOffset());m&&f.setTime(f.getTime()+6E4*m)}return f};z.toISOString=function(f,q){var a=function(a){return 10>a?"0"+a:a};q=q||{};var m=[],c=q.zulu?"getUTC":"get",u="";"time"!=q.selector&&(u=f[c+"FullYear"](),u=["0000".substr((u+
"").length)+u,a(f[c+"Month"]()+1),a(f[c+"Date"]())].join("-"));m.push(u);"date"!=q.selector&&(u=[a(f[c+"Hours"]()),a(f[c+"Minutes"]()),a(f[c+"Seconds"]())].join(":"),c=f[c+"Milliseconds"](),q.milliseconds&&(u+="."+(100>c?"0":"")+a(c)),q.zulu?u+="Z":"time"!=q.selector&&(f=f.getTimezoneOffset(),q=Math.abs(f),u+=(0<f?"-":"+")+a(Math.floor(q/60))+":"+a(q%60)),m.push(u));return m.join("T")};return z})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys ../utils".split(" "),
function(F,E,z,f,q,a,m,c,u){return F([E,m],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=f.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=f.create("div",{"class":"label jimu-float-leading",innerHTML:u.sanitizeHTML(this.label)||""},this.domNode);this.checked&&f.addClass(this.checkNode,"checked");this.status||f.addClass(this.domNode,"jimu-state-disabled");this.own(a(this.checkNode,
"click",z.hitch(this,function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(a(this.labelNode,"click",z.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(a){this.label=a||"";this.labelNode.innerHTML=u.sanitizeHTML(this.label);this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?f.removeClass(this.labelNode,
"not-visible"):f.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(f.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(a(this.checkNode,"focus",z.hitch(this,function(){f.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(a(this.checkNode,"blur",z.hitch(this,function(){f.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(a(this.checkNode,"keypress",z.hitch(this,function(a){a=a.charCode||a.keyCode;f.hasClass(this.checkNode,
"dijitCheckBoxFocused")&&c.SPACE===a&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(a){this.status&&(!0===a?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(a){a=!!a;var c=this.status!==a;(this.status=a)?q.remove(this.domNode,"jimu-state-disabled"):q.add(this.domNode,"jimu-state-disabled");c&&this.emit("status-change",a)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,f.addClass(this.checkNode,
"checked"),this.onStateChange())},uncheck:function(a){if(this.status&&(this.checked=!1,f.removeClass(this.checkNode,"checked"),!a))this.onStateChange()},onStateChange:function(){if(this.onChange&&z.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],
function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist{}.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden; padding-bottom: 40px;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{position: absolute; right: -5px; width: 200px; top: 30px; z-index: 2;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{left: -5px; right: auto;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible {display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible {display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .elevation-layers-container{position: relative; top: -30px;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(F){F(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","uk","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList dojo/i18n!esri/nls/common ./LayerItem".split(" "),function(F,E,z,f,q,a,m,c,u){return z([a],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.nls.hide=c.visibility.hide;this.nls.show=c.visibility.show;this.layerList=new m({view:this.sceneView,container:this.dijitDiv,listItemCreatedFunction:f.hitch(this,
this._defineActions)});this.own(this.layerList.on("trigger-action",f.hitch(this,this._onTriggerAction)));this.own(F(this.sceneView.map.ground.layers,"change",f.hitch(this,this._updateElevationLayers)));this.own(F(this.sceneView.map.allLayers,"change",f.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(f.hitch(this,function(){10<this.dijitDiv.clientHeight?q.removeClass(this.groundTip,"hidden"):q.addClass(this.groundTip,
"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();for(var a=this.sceneView.map.ground.layers,c=0,f=a.get("length")-1;0<=f;f--){var m=a.getItemAt(f);"hide"!==m.listMode&&(this._addElevationLayerItem(m),c++)}0===c?q.addClass(this.elevationLayersContainer,"hidden"):q.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(a){a=new u({layer:a,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(a);a.placeAt(this.elevationLayersContainer)},
_destroyAllElevationLayerItems:function(){E.forEach(this._elevationLayerItems,f.hitch(this,function(a){a.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(a){var c=[];a.item.layer&&(c=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return c},_defineActions:function(a){a=a.item;a.layer.title?a.actionsSections=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]:(this.layerList.operationalItems.remove(a),
a.destroy())},_onTriggerAction:function(a){var c=a.item.layer;if(c)switch(a.action.id){case "full-extent":(a=c.fullExtent||c.extent)&&this.sceneView.goTo(a)}},destroy:function(){this.layerList&&(this.layerList.destroy(),this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});