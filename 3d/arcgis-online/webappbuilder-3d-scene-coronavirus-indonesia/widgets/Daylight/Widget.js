// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(h,t,e,f,d){return e("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var b=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);d.parse(b,{noStart:!this._earlyTemplatedStartup,
template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(f.hitch(this,function(b){this._startupWidgets=b;for(var d=0;d<b.length;d++)this._processTemplateNode(b[d],function(a,c){return a[c]},function(a,c,b){return c in a?a.connect(a,c,b):a.on(c,b,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(b,d,f){return d(b,"dojoType")||d(b,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){h.forEach(this._startupWidgets,function(b){b&&!b._started&&b.startup&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(h,
t,e,f,d,b,v,k,a,c,u,q,n,z,G,H){function C(a){return eval("("+a+")")}function g(a){var g=a._nameCaseMap,b=a.prototype;if(!g||g._extendCnt<r){var g=a._nameCaseMap={},c;for(c in b)"_"!==c.charAt(0)&&(g[c.toLowerCase()]=c);g._extendCnt=r}return g}function l(a,g){g||(g=h);var c=g._dojoParserCtorMap||(g._dojoParserCtorMap={}),b=a.join();if(!c[b]){for(var l=[],A=0,d=a.length;A<d;A++){var u=a[A];l[l.length]=c[u]=c[u]||e.getObject(u)||~u.indexOf("/")&&g(u)}a=l.shift();c[b]=l.length?a.createSubclass?a.createSubclass(l):
a.extend.apply(a,l):a}return c[b]}new Date("X");var r=0;a.after(e,"extend",function(){r++},!0);n={_clearCache:function(){r++;_ctorMap={}},_functionFromScript:function(a,g){var c="",b="",l=a.getAttribute(g+"args")||a.getAttribute("args");g=a.getAttribute("with");l=(l||"").split(/\s*,\s*/);g&&g.length&&f.forEach(g.split(/\s*,\s*/),function(a){c+="with("+a+"){";b+="}"});return new Function(l,c+a.innerHTML+b)},instantiate:function(a,g,c){g=g||{};c=c||{};var b=(c.scope||t._scopeName)+"Type",l="data-"+
(c.scope||t._scopeName)+"-",u=l+"type",A=l+"mixins",d=[];f.forEach(a,function(a){var c=b in g?g[b]:a.getAttribute(u)||a.getAttribute(b);if(c){var l=a.getAttribute(A),c=l?[c].concat(l.split(/\s*,\s*/)):[c];d.push({node:a,types:c})}});return this._instantiate(d,g,c)},_instantiate:function(a,g,b,u){function d(a){g._started||b.noStart||f.forEach(a,function(a){"function"!==typeof a.startup||a._started||a.startup()});return a}a=f.map(a,function(a){var c=a.ctor||l(a.types,b.contextRequire);if(!c)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(c,a.node,g,b,a.scripts,a.inherited)},this);return u?c(a).then(d):d(a)},construct:function(c,b,l,d,f,r){function A(c){v&&e.setObject(v,c);for(n=0;n<F.length;n++)a[F[n].advice||"after"](c,F[n].method,e.hitch(c,F[n].func),!0);for(n=0;n<K.length;n++)K[n].call(c);for(n=0;n<J.length;n++)c.watch(J[n].prop,J[n].func);for(n=0;n<I.length;n++)G(c,I[n].event,I[n].func);return c}var q=c&&c.prototype;d=d||{};var x={};d.defaults&&e.mixin(x,d.defaults);r&&e.mixin(x,r);var y;
y=b.attributes;var h=d.scope||t._scopeName;r="data-"+h+"-";var p={};"dojo"!==h&&(p[r+"props"]="data-dojo-props",p[r+"type"]="data-dojo-type",p[r+"mixins"]="data-dojo-mixins",p[h+"type"]="dojotype",p[r+"id"]="data-dojo-id");for(var n=0,m,h=[],v,E;m=y[n++];){var w=m.name,D=w.toLowerCase();m=m.value;switch(p[D]||D){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":E=m;break;case "data-dojo-id":case "jsid":v=m;break;case "data-dojo-attach-point":case "dojoattachpoint":x.dojoAttachPoint=
m;break;case "data-dojo-attach-event":case "dojoattachevent":x.dojoAttachEvent=m;break;case "class":x["class"]=b.className;break;case "style":x.style=b.style&&b.style.cssText;break;default:if(w in q||(w=g(c)[D]||w),w in q)switch(typeof q[w]){case "string":x[w]=m;break;case "number":x[w]=m.length?Number(m):NaN;break;case "boolean":x[w]="false"!=m.toLowerCase();break;case "function":""===m||-1!=m.search(/[^\w\.]+/i)?x[w]=new Function(m):x[w]=e.getObject(m,!1)||new Function(m);h.push(w);break;default:D=
q[w],x[w]=D&&"length"in D?m?m.split(/\s*,\s*/):[]:D instanceof Date?""==m?new Date(""):"now"==m?new Date:u.fromISOString(m):D instanceof k?t.baseUrl+m:C(m)}else x[w]=m}}for(y=0;y<h.length;y++)p=h[y].toLowerCase(),b.removeAttribute(p),b[p]=null;if(E)try{E=C.call(d.propsThis,"{"+E+"}"),e.mixin(x,E)}catch(L){throw Error(L.toString()+" in data-dojo-props\x3d'"+E+"'");}e.mixin(x,l);f||(f=c&&(c._noScript||q._noScript)?[]:z("\x3e script[type^\x3d'dojo/']",b));var F=[],K=[],J=[],I=[];if(f)for(n=0;n<f.length;n++)p=
f[n],b.removeChild(p),l=p.getAttribute(r+"event")||p.getAttribute("event"),d=p.getAttribute(r+"prop"),E=p.getAttribute(r+"method"),h=p.getAttribute(r+"advice"),y=p.getAttribute("type"),p=this._functionFromScript(p,r),l?"dojo/connect"==y?F.push({method:l,func:p}):"dojo/on"==y?I.push({event:l,func:p}):x[l]=p:"dojo/aspect"==y?F.push({method:E,advice:h,func:p}):"dojo/watch"==y?J.push({prop:d,func:p}):K.push(p);c=(f=c.markupFactory||q.markupFactory)?f(x,b,c):new c(x,b);return c.then?c.then(A):A(c)},scan:function(a,
c){function g(a){if(!a.inherited){a.inherited={};var c=a.node,b=g(a.parent),c={dir:c.getAttribute("dir")||b.dir,lang:c.getAttribute("lang")||b.lang,textDir:c.getAttribute(A)||b.textDir},l;for(l in c)c[l]&&(a.inherited[l]=c[l])}return a.inherited}var b=[],d=[],u={},n=(c.scope||t._scopeName)+"Type",r="data-"+(c.scope||t._scopeName)+"-",k=r+"type",A=r+"textdir",r=r+"mixins",e=a.firstChild,p=c.inherited;if(!p){var y=function(a,c){return a.getAttribute&&a.getAttribute(c)||a.parentNode&&y(a.parentNode,
c)},p={dir:y(a,"dir"),lang:y(a,"lang"),textDir:y(a,A)},m;for(m in p)p[m]||delete p[m]}m={inherited:p};for(var v,B;;)if(e)if(1!=e.nodeType)e=e.nextSibling;else if(v&&"script"==e.nodeName.toLowerCase())(p=e.getAttribute("type"))&&/^dojo\/\w/i.test(p)&&v.push(e),e=e.nextSibling;else if(B)e=e.nextSibling;else if(p=e.getAttribute(k)||e.getAttribute(n),a=e.firstChild,p||a&&(3!=a.nodeType||a.nextSibling)){B=null;if(p){var w=e.getAttribute(r);v=w?[p].concat(w.split(/\s*,\s*/)):[p];try{B=l(v,c.contextRequire)}catch(F){}B||
f.forEach(v,function(a){~a.indexOf("/")&&!u[a]&&(u[a]=!0,d[d.length]=a)});w=B&&!B.prototype._noScript?[]:null;m={types:v,ctor:B,parent:m,node:e,scripts:w};m.inherited=g(m);b.push(m)}else m={node:e,scripts:v,parent:m};v=w;B=e.stopParser||B&&B.prototype.stopParser&&!c.template;e=a}else e=e.nextSibling;else{if(!m||!m.node)break;e=m.node.nextSibling;B=!1;m=m.parent;v=m.scripts}var z=new q;d.length?(c.contextRequire||h)(d,function(){z.resolve(f.filter(b,function(a){if(!a.ctor)try{a.ctor=l(a.types,c.contextRequire)}catch(M){}for(var g=
a.parent;g&&!g.types;)g=g.parent;var b=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(b&&b.stopParser&&!c.template);a.instantiate=!g||g.instantiate&&g.instantiateChildren;return a.instantiate}))}):z.resolve(b);return z.promise},_require:function(a,c){a=C("{"+a.innerHTML+"}");var g=[],b=[],l=new q;c=c&&c.contextRequire||h;for(var d in a)g.push(d),b.push(a[d]);c(b,function(){for(var a=0;a<g.length;a++)e.setObject(g[a],arguments[a]);l.resolve(arguments)});return l.promise},_scanAmd:function(a,c){var g=
new q,b=g.promise;g.resolve(!0);var l=this;z("script[type\x3d'dojo/require']",a).forEach(function(a){b=b.then(function(){return l._require(a,c)});a.parentNode.removeChild(a)});return b},parse:function(a,c){!a||"string"==typeof a||"nodeType"in a||(c=a,a=c.rootNode);var g=a?b.byId(a):v.body();c=c||{};var l=c.template?{template:!0}:{},d=[],u=this;a=this._scanAmd(g,c).then(function(){return u.scan(g,c)}).then(function(a){return u._instantiate(a,l,c,!0)}).then(function(a){return d=d.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",
a);throw a;});e.mixin(d,a);return d}};t.parser=n;d.parseOnLoad&&H(100,n,"parse");return n})},"dojo/_base/url":function(){define(["./kernel"],function(h){var t=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,e=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var d=arguments,b=[d[0]],h=1;h<d.length;h++)if(d[h]){var k=new f(d[h]+""),b=new f(b[0]+"");if(""==k.path&&!k.scheme&&!k.authority&&!k.query)null!=k.fragment&&(b.fragment=k.fragment),k=b;else if(!k.scheme&&
(k.scheme=b.scheme,!k.authority&&(k.authority=b.authority,"/"!=k.path.charAt(0)))){for(var b=(b.path.substring(0,b.path.lastIndexOf("/")+1)+k.path).split("/"),a=0;a<b.length;a++)"."==b[a]?a==b.length-1?b[a]="":(b.splice(a,1),a--):0<a&&(1!=a||""!=b[0])&&".."==b[a]&&".."!=b[a-1]&&(a==b.length-1?(b.splice(a,1),b[a-1]=""):(b.splice(a-1,2),a-=2));k.path=b.join("/")}b=[];k.scheme&&b.push(k.scheme,":");k.authority&&b.push("//",k.authority);b.push(k.path);k.query&&b.push("?",k.query);k.fragment&&b.push("#",
k.fragment)}this.uri=b.join("");d=this.uri.match(t);this.scheme=d[2]||(d[1]?"":null);this.authority=d[4]||(d[3]?"":null);this.path=d[5];this.query=d[7]||(d[6]?"":null);this.fragment=d[9]||(d[8]?"":null);null!=this.authority&&(d=this.authority.match(e),this.user=d[3]||null,this.password=d[4]||null,this.host=d[6]||d[7],this.port=d[9]||null)};f.prototype.toString=function(){return this.uri};return h._Url=f})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(h,t){var e=
{};h.setObject("dojo.date.stamp",e);e.fromISOString=function(f,d){e._isoRegExp||(e._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var b=e._isoRegExp.exec(f);f=null;if(b){b.shift();b[1]&&b[1]--;b[6]&&(b[6]*=1E3);d&&(d=new Date(d),t.forEach(t.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return d["get"+a]()}),function(a,c){b[c]=b[c]||a}));f=new Date(b[0]||1970,b[1]||0,b[2]||1,b[3]||0,b[4]||
0,b[5]||0,b[6]||0);100>b[0]&&f.setFullYear(b[0]||1970);var h=0,k=b[7]&&b[7].charAt(0);"Z"!=k&&(h=60*(b[8]||0)+(Number(b[9])||0),"-"!=k&&(h*=-1));k&&(h-=f.getTimezoneOffset());h&&f.setTime(f.getTime()+6E4*h)}return f};e.toISOString=function(f,d){var b=function(a){return 10>a?"0"+a:a};d=d||{};var e=[],k=d.zulu?"getUTC":"get",a="";"time"!=d.selector&&(a=f[k+"FullYear"](),a=["0000".substr((a+"").length)+a,b(f[k+"Month"]()+1),b(f[k+"Date"]())].join("-"));e.push(a);"date"!=d.selector&&(a=[b(f[k+"Hours"]()),
b(f[k+"Minutes"]()),b(f[k+"Seconds"]())].join(":"),k=f[k+"Milliseconds"](),d.milliseconds&&(a+="."+(100>k?"0":"")+b(k)),d.zulu?a+="Z":"time"!=d.selector&&(f=f.getTimezoneOffset(),d=Math.abs(f),a+=(0<f?"-":"+")+b(Math.floor(d/60))+":"+b(d%60)),e.push(a));return e.join("T")};return e})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys ../utils".split(" "),function(h,t,e,f,d,b,v,k,a){return h([t,
v],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=f.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=f.create("div",{"class":"label jimu-float-leading",innerHTML:a.sanitizeHTML(this.label)||""},this.domNode);this.checked&&f.addClass(this.checkNode,"checked");this.status||f.addClass(this.domNode,"jimu-state-disabled");this.own(b(this.checkNode,"click",e.hitch(this,function(){this.status&&
(this.checked?this.uncheck():this.check())})));this.own(b(this.labelNode,"click",e.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(c){this.label=c||"";this.labelNode.innerHTML=a.sanitizeHTML(this.label);this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?f.removeClass(this.labelNode,"not-visible"):f.addClass(this.labelNode,
"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(f.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(b(this.checkNode,"focus",e.hitch(this,function(){f.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(b(this.checkNode,"blur",e.hitch(this,function(){f.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(b(this.checkNode,"keypress",e.hitch(this,function(a){a=a.charCode||a.keyCode;f.hasClass(this.checkNode,"dijitCheckBoxFocused")&&k.SPACE===
a&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(a){this.status&&(!0===a?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(a){a=!!a;var c=this.status!==a;(this.status=a)?d.remove(this.domNode,"jimu-state-disabled"):d.add(this.domNode,"jimu-state-disabled");c&&this.emit("status-change",a)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,f.addClass(this.checkNode,"checked"),this.onStateChange())},
uncheck:function(a){if(this.status&&(this.checked=!1,f.removeClass(this.checkNode,"checked"),!a))this.onStateChange()},onStateChange:function(){if(this.onChange&&e.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(h,t,e){return h("dijit.form.DateTextBox",e,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",
popupClass:t,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),function(h,t,e,f,d,b,v,k,a,c,u,q,n,z,G,H,C){var g=f("dijit.Calendar",[n,z,G],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",
incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){k.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new g._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:c.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);
this.own(u(this.domNode,"keydown",c.hitch(this,"_onKeyDown")),u(this.dateRowsNode,"mouseover",c.hitch(this,"_onDayMouseOver")),u(this.dateRowsNode,"mouseout",c.hitch(this,"_onDayMouseOut")),u(this.dateRowsNode,"mousedown",c.hitch(this,"_onDayMouseDown")),u(this.dateRowsNode,"mouseup",c.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var c=new this.dateClassObj(this.currentFocus);c.setDate(1);c.setMonth(a);a=this.dateModule.getDaysInMonth(c);var g=this.currentFocus.getDate();c.setDate(Math.min(g,
a));this._setCurrentFocusAttr(c)},_onDayMouseOver:function(a){(a=b.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!b.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(b.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(a){!this._currentNode||a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode||(a="dijitCalendarHoveredDate",b.contains(this._currentNode,"dijitCalendarActiveDate")&&
(a+=" dijitCalendarActiveDate"),b.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&!b.contains(a,"dijitCalendarDisabledDate")&&(b.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&b.remove(a,"dijitCalendarActiveDate")},handleKey:function(c){var g=-1,b,d=this.currentFocus;switch(c.keyCode){case a.RIGHT_ARROW:g=1;case a.LEFT_ARROW:b="day";this.isLeftToRight()||
(g*=-1);break;case a.DOWN_ARROW:g=1;case a.UP_ARROW:b="week";break;case a.PAGE_DOWN:g=1;case a.PAGE_UP:b=c.ctrlKey||c.altKey?"year":"month";break;case a.END:d=this.dateModule.add(d,"month",1),b="day";case a.HOME:d=new this.dateClassObj(d);d.setDate(1);break;default:return!0}b&&(d=this.dateModule.add(d,b,g));this._setCurrentFocusAttr(d);return!1},_onKeyDown:function(a){this.handleKey(a)||(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},
getClassForDate:function(){}});g._MonthDropDownButton=f("dijit.Calendar._MonthDropDownButton",C,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new g._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",c);this.containerNode.innerHTML=(6==q("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+
"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+c[a.getMonth()]+"\x3c/div\x3e"}});g._MonthDropDown=f("dijit.Calendar._MonthDropDown",[z,H,G],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML="";h.forEach(a,function(a,c){v.create("div",{className:"dijitCalendarMonthLabel",month:c,innerHTML:a},this.domNode)._cssState=
"dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(d.get(a.target,"month"))},onChange:function(){}});return g})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/dom-attr dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(h,t,e,f,d,b,v,k,a,c,u,q,n,z,G,H){var C=
t("dijit.CalendarLite",[z,G],{templateString:H,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var c=new this.dateClassObj(a);c.setHours(0,0,0,0);c.getDate()<a.getDate()&&(c=this.dateModule.add(c,"hour",1));return c}return null},_setValueAttr:function(a,
c){"string"==typeof a&&(a=b.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(c||"undefined"==typeof c))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){if(a||0===a)a=new this.dateClassObj(a),a.setHours(1,0,0,0);return a},_setText:function(a,c){for(;a.firstChild;)a.removeChild(a.firstChild);
a.appendChild(a.ownerDocument.createTextNode(c))},_populateGrid:function(){var c=new this.dateClassObj(this.currentFocus);c.setDate(1);var c=this._patchDate(c),b=c.getDay(),u=this.dateModule.getDaysInMonth(c),f=this.dateModule.getDaysInMonth(this.dateModule.add(c,"month",-1)),n=new this.dateClassObj,k=0<=this.dayOffset?this.dayOffset:e.getFirstDayOfWeek(this.lang);k>b&&(k-=7);if(!this.summary){var q=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,c);this.gridNode.setAttribute("summary",
q[c.getMonth()])}this._date2cell={};h.forEach(this.dateCells,function(g,e){var l=e+k,h=new this.dateClassObj(c),q="dijitCalendar",r=0;l<b?(l=f-b+l+1,r=-1,q+="Previous"):l>=b+u?(l=l-b-u+1,r=1,q+="Next"):(l=l-b+1,q+="Current");r&&(h=this.dateModule.add(h,"month",r));h.setDate(l);this.dateModule.compare(h,n,"date")||(q="dijitCalendarCurrentDate "+q);this.isDisabledDate(h,this.lang)?(q="dijitCalendarDisabledDate "+q,g.setAttribute("aria-disabled","true")):(q="dijitCalendarEnabledDate "+q,g.removeAttribute("aria-disabled"),
g.setAttribute("aria-selected","false"));(r=this.getClassForDate(h,this.lang))&&(q=r+" "+q);g.className=q+"Month dijitCalendarDateTemplate";q=h.valueOf();this._date2cell[q]=g;g.dijitDateValue=q;q=h.getDateLocalized?h.getDateLocalized(this.lang):h.getDate();this._setText(this.dateLabels[e],q);a.set(g,"aria-label",d.format(h,{selector:"date",formatLength:"long"}))},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var c=a.getFullYear()-
1,b=new this.dateClassObj;h.forEach(["previous","current","next"],function(a){b.setFullYear(c++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(b,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?c.getObject(a.datePackage,!1):f;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?c.getObject(a.datePackage+".locale",!1):d},_createMonthWidget:function(){return C._MonthWidget({id:this.id+
"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,c=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),b=0<=this.dayOffset?this.dayOffset:e.getFirstDayOfWeek(this.lang);this.dayCellsHtml=n.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return c[b++%7]});a=n.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=
[];this.inherited(arguments);v.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var a=c.hitch(this,function(a,b,d){this[a].dojoClick=!0;return u(this[a],"click",c.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,b,d))}))});this.own(a("incrementMonth","month",1),a("decrementMonth",
"month",-1),a("nextYearLabelNode","year",1),a("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,c){var b=this.currentFocus,d=this._getNodeByDate(b);a=this._patchDate(a);this._set("currentFocus",a);this._date2cell&&0==this.dateModule.difference(b,a,"month")||(this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]));a=this._getNodeByDate(a);a.setAttribute("tabIndex",this.tabIndex);(this.focused||c)&&a.focus();d&&d!=a&&(q("webkit")?d.setAttribute("tabIndex",
"-1"):d.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue&&0!==a.dijitDateValue;a=a.parentNode);a&&!k.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function b(a,c){k.toggle(c,"dijitCalendarSelectedDate",
a);c.setAttribute("aria-selected",a?"true":"false")}h.forEach(this._selectedCells||[],c.partial(b,!1));this._selectedCells=h.filter(h.map(a,this._getNodeByDate,this),function(a){return a});h.forEach(this._selectedCells,c.partial(b,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});C._MonthWidget=t("dijit.CalendarLite._MonthWidget",z,{_setMonthAttr:function(a){var c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),b=6==q("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+
h.map(c,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=b+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+c[a.getMonth()]+"\x3c/div\x3e"}});return C})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),function(h,t,e,f,d,b,v,k,a,c){return h("dijit.form.DropDownButton",
[v,k,a],{baseClass:"dijitDropDownButton",templateString:c,_fillContent:function(){var a=this.srcNodeRef,c=this.containerNode;if(a&&c)for(;a.hasChildNodes();){var b=a.firstChild;b.hasAttribute&&(b.hasAttribute("data-dojo-type")||b.hasAttribute("dojoType")||b.hasAttribute("data-"+t._scopeName+"-type")||b.hasAttribute(t._scopeName+"Type"))?(this.dropDownContainer=this.ownerDocument.createElement("div"),this.dropDownContainer.appendChild(b)):c.appendChild(b)}},startup:function(){this._started||(!this.dropDown&&
this.dropDownContainer&&(this.dropDown=d.byNode(this.dropDownContainer.firstChild),delete this.dropDownContainer),this.dropDown&&b.hide(this.dropDown),this.inherited(arguments))},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var c=this.dropDown,b=c.on("load",e.hitch(this,function(){b.remove();a()}));c.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),
function(h,t,e,f,d,b,v,k){new Date("X");return f("dijit.form._DateTimeTextBox",[b,v],{templateString:k,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:t.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(a,c){var b=this._isInvalidDate(a),d=this._isInvalidDate(c);if(b||d)return b&&d?0:b?-1:1;a=this.format(a,this._unboundedConstraints);c=this.format(c,this._unboundedConstraints);
b=this.parse(a,this._unboundedConstraints);d=this.parse(c,this._unboundedConstraints);return a==c?0:h.compare(b,d,this._selector)},autoWidth:!0,format:function(a,c){return a?this.dateLocaleModule.format(a,c):""},parse:function(a,c){return this.dateLocaleModule.parse(a,c)||(this._isEmpty(a)?null:void 0)},serialize:function(a,c){a.toGregorian&&(a=a.toGregorian());return e.toISOString(a,c)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(a){a=
a||{};this.dateModule=a.datePackage?d.getObject(a.datePackage,!1):h;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=a.datePackage?d.getObject(a.datePackage+".locale",!1):t;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||
(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(a){a.selector=this._selector;a.fullYear=!0;var c=e.fromISOString;"string"==typeof a.min&&(a.min=c(a.min),this.dateClassObj instanceof Date||(a.min=new this.dateClassObj(a.min)));"string"==typeof a.max&&(a.max=c(a.max),this.dateClassObj instanceof Date||(a.max=new this.dateClassObj(a.max)));this.inherited(arguments);this._unboundedConstraints=d.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(a){return!a||
isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,c,b){void 0!==a&&("string"==typeof a&&(a=e.fromISOString(a)),this._isInvalidDate(a)&&(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));this.inherited(arguments,[a,c,b]);this.value instanceof Date&&(this.filterString="");!1!==c&&this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,c){if("value"==a){c instanceof Date&&!(this.dateClassObj instanceof Date)&&
(c=new this.dateClassObj(c));var b=this._get("value");if(b instanceof this.dateClassObj&&0==this.compare(c,b))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},openDropDown:function(a){this.dropDown&&this.dropDown.destroy();var c=d.isString(this.popupClass)?d.getObject(this.popupClass,!1):this.popupClass,b=this,e=this.get("value");this.dropDown=new c({onChange:function(a){b.set("value",
a,!0)},id:this.id+"_popup",dir:b.dir,lang:b.lang,value:e,textDir:b.textDir,currentFocus:this._isInvalidDate(e)?this.dropDownDefaultValue:e,constraints:b.constraints,filterString:b.filterString,datePackage:b.datePackage,isDisabledDate:function(a){return!b.rangeCheck(a,b.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,c){this._setValueAttr(this.parse(a,this.constraints),c,a)}})})},"widgets/Daylight/_build-generate_module":function(){define(["dojo/text!./Widget.html",
"dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dijit/templates/Calendar.html":'\x3cdiv class\x3d"dijitCalendarContainer dijitInline" role\x3d"presentation" aria-labelledby\x3d"${id}_mddb ${id}_year"\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarMonthContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarDecrementArrow\' data-dojo-attach-point\x3d"decrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarIncrementArrow\' data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode" class\x3d"dijitInline"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"grid" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\t\x3cthead\x3e\r\n\t\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t\t${!dayCellsHtml}\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/thead\x3e\r\n\t\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t\t${!dateRowsHtml}\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarYearContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick" data-dojo-attach-point\x3d"valueNode" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:widgets/Daylight/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv\x3e${nls.dragSunSliderText}\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/form/HorizontalSlider" data-dojo-attach-point\x3d"slider" data-dojo-props\x3d\'intermediateChanges:true,showButtons:false,minimum:0,maximum:23.99\' style\x3d"margin-top:10px;"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"time-zone"\x3e\r\n\t\t\x3cdiv class\x3d"sun-time jimu-float-leading" data-dojo-attach-point\x3d"sunTime"\x3e\x3c/div\x3e\r\n\t\t\x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"zoneSelect" class\x3d"jimu-float-trailing" style\x3d"width:40%;"\x3e\x3c/select\x3e\r\n\t\x3c/div\x3e\r\n\r\n\t\x3cinput type\x3d"text" data-dojo-attach-point\x3d"datePicker" constraints\x3d{selector:"date",formatLength:"long",fullYear:true} data-dojo-type\x3d"dijit/form/DateTextBox" required\x3d"true" autoWidth\x3d"true" style\x3d"margin-top:15px;width: 100%;"/\x3e\r\n\r\n\t\x3cdiv class\x3d"shadow-container" data-dojo-attach-point\x3d"shadowContainer"\x3e\r\n\t\t\x3cdiv class\x3d"shadowing-title"\x3e${nls.shadowing}\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"direct-shadow" data-dojo-attach-point\x3d"directShadowSection"\x3e\r\n\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbxDirect"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3c!-- \x3cdiv class\x3d"diffuse-shadow" data-dojo-attach-point\x3d"diffuseShadowSection"\x3e\r\n\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbxDiffuse"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e --\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Daylight/css/style.css":".jimu-widget-daylight .time-zone{overflow: hidden; margin-top: 15px;}.jimu-widget-daylight .sun-time{width: 40%; height: 30px; line-height: 30px; padding-left: 10px; border:1px solid #ccc;}.jimu-rtl .jimu-widget-daylight .sun-time{padding-left: 0; padding-right: 10px;}.jimu-widget-daylight .shadowing-title{}.jimu-widget-daylight .shadow-container{margin-top: 40px;}.jimu-widget-daylight .direct-shadow{margin-top: 5px;}.jimu-widget-daylight .diffuse-shadow{margin-top: 5px;}",
"*now":function(h){h(['dojo/i18n!*preload*widgets/Daylight/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","uk","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/on dojo/_base/lang dojo/_base/html jimu/utils esri/core/watchUtils dijit/form/HorizontalSlider dijit/form/Select jimu/dijit/CheckBox dijit/form/DateTextBox".split(" "),function(h,t,e,f,d,b,v,k){return h([t,e],{baseClass:"jimu-widget-daylight",postCreate:function(){this.inherited(arguments);this.sceneView.when(d.hitch(this,this._init))},_init:function(){var a=this._getDateOfLighting();this._initDatePaker(a);this._initZoneSelect();
this._updateSliderUIByDate(a);a=this.sceneView.environment.lighting;this.own(f(a,"date-will-change",d.hitch(this,this._onDateWillChange)));this.own(f(this.zoneSelect,"change",d.hitch(this,this._onZoneSelectChanged)));this.own(f(this.datePicker,"change",d.hitch(this,this._onDatePickerChanged)));this.own(f(this.slider,"change",d.hitch(this,this._onSliderValueChanged)));var c=!1;void 0!==a.directShadowsEnabled?(c=!0,this.cbxDirect.setLabel(this.nls.directShadow+"\x26lrm;"),this.own(k.init(this.sceneView,
"environment.lighting.directShadowsEnabled",d.hitch(this,this._onWatchDirectShadows))),this.cbxDirect.onChange=d.hitch(this,this._onDirectShadowChange)):b.setStyle(this.directShadowSection,"display","none");c||b.setStyle(this.shadowContainer,"display","none")},_setDateOfLighting:function(a){this._getDateOfLighting().getTime()!==a.getTime()&&(this.sceneView.environment.lighting.date=a)},_initZoneSelect:function(){for(var a=this.sceneView.environment.lighting.positionTimezoneInfo,a=this.config.defaultTimeZone||
a.hours,c=[],b="",b=null,d=-12;12>=d;d++)b="GMT",0>d?b+=" ":0===d?b+=" ":0<d&&(b+="+"),b+=d,b={value:d+"",label:b},c.push(b);this.zoneSelect.addOption(c);this.zoneSelect.set("value",a+"")},_initDatePaker:function(a){this.datePicker.set("value",a)},_updateSliderUIByDate:function(a){var c=this._getTimeZoneByUI(),b=((a.getUTCHours()+c)%24+24)%24,d=a.getUTCMinutes(),e=a.getUTCSeconds(),c=this.slider.get("value"),b=b+d/60+e/3600;this._updateSunTimeUIByDate(a);c!==b&&this.slider.set("value",b)},_updateSunTimeUIByDate:function(a){var b=
new Date(a),d=this._getTimeZoneByUI();a=((a.getUTCHours()+d)%24+24)%24;b.setHours(a);b=v.localizeDate(b,{fullYear:!1,selector:"time",formatLength:"short"});this.sunTime.innerHTML=b},_getDateOfLighting:function(){return this.sceneView.environment.lighting.get("date")},_getDateByUI:function(){var a=this._getDateOfLighting(),a=new Date(a),b=this._getTimeZoneByUI(),d=this.slider.get("value"),b=((Math.floor(d)-b)%24+24)%24,d=60*(d-Math.floor(d)),e=d%1,d=d-e,e=Math.round(60*e),f=this.datePicker.get("value"),
h=f.getFullYear(),k=f.getMonth(),f=f.getDate();a.setUTCFullYear(h);a.setUTCMonth(k);a.setUTCDate(f);a.setUTCHours(b);a.setUTCMinutes(d);a.setUTCSeconds(e);return a},_getTimeZoneByUI:function(){return parseInt(this.zoneSelect.get("value"),10)},_getPositionTimeZone:function(){return this.sceneView.environment.lighting.positionTimezoneInfo.hours},_onDateWillChange:function(a){this._updateSliderUIByDate(a.date)},_onZoneSelectChanged:function(){this.slider.ignoreChangeEvent=!0;var a=this._getDateOfLighting();
this._updateSliderUIByDate(a)},_onDatePickerChanged:function(a){if(this.datePicker.isValid()){var b=this._getDateOfLighting(),b=new Date(b),d=a.getFullYear(),e=a.getMonth();a=a.getDate();b.setUTCFullYear(d);b.setUTCMonth(e);b.setUTCDate(a);this._setDateOfLighting(b)}},_onSliderValueChanged:function(){var a=this._getDateByUI();this._updateSunTimeUIByDate(a);var b=this.slider.ignoreChangeEvent;delete this.slider.ignoreChangeEvent;b||this._setDateOfLighting(a)},_onWatchDirectShadows:function(a){this.cbxDirect.setValue(a)},
_onWatchAmbientOcclusion:function(){},_onDirectShadowChange:function(){var a=this.cbxDirect.getValue();this.sceneView.environment.lighting.directShadowsEnabled=a},_onDiffuseShadowChange:function(){}})});