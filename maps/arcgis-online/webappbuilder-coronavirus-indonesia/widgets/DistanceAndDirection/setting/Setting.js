// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/DistanceAndDirection/setting/js/ColorPickerEditor":function(){define("dojo/_base/declare dojo/_base/Color dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/ColorPickerEditor.html jimu/dijit/ColorPickerPopup dijit/form/NumberSpinner".split(" "),function(h,k,c,e,d,f,l){return h([c,e,d],{_defaultColor:"#485566",templateString:f,nls:null,postCreate:function(){this.colorPicker=new l({color:this._defaultColor,width:this._defaultWidth},
this.colorPicker);this.colorPicker.startup();this.inherited(arguments)},startup:function(){this.inherited(arguments)},_isSameVal:function(){return this.slider.getValue()===this.spinner.getValue()},getValues:function(){var a=null,c=this.colorPicker.getColor();c&&(a=c);return a},setValues:function(a){if("object"===typeof a||"string"===typeof a)a=this._rgbToHex(a.color),this.colorPicker.setColor(new k(a))},_hexToRgb:function(a){return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],
16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},_componentToHex:function(a){a=a.toString(16);return 1===a.length?"0"+a:a},_rgbToHex:function(a){return"#"+this._componentToHex(a.r)+this._componentToHex(a.g)+this._componentToHex(a.b)}})})},"jimu/dijit/ColorPickerPopup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/_base/html dojo/on dojo/_base/Color dijit/TooltipDialog dijit/popup jimu/dijit/ColorPalette jimu/utils".split(" "),function(h,k,c,e,
d,f,l,a,m,n,p){return h([k,c],{baseClass:"jimu-color-pickerPopup",declaredClass:"jimu.dijit.ColorPickerPopup",templateString:'\x3cdiv class\x3d"jimu-color-picker"\x3e\x3c/div\x3e',_isTooltipDialogOpened:!1,color:null,showLabel:!1,around:null,_ENABLE:!0,recordUID:"",postCreate:function(){this.inherited(arguments);this._createTooltipDialog(this.domNode);this._hideTooltipDialog()},destroy:function(){m.close(this.tooltipDialog);this.picker.destroy();this.tooltipDialog.destroy();this.inherited(arguments)},
enable:function(){this._ENABLE=!0;d.removeClass(this.domNode,"disable")},disable:function(){this._ENABLE=!1;d.addClass(this.domNode,"disable")},isPartOfPopup:function(a){var c=this.tooltipDialog.domNode;return a===c||d.isDescendant(a,c)},hideTooltipDialog:function(){this._hideTooltipDialog()},showTooltipDialog:function(){this._showTooltipDialog()},initUI:function(){this.picker.initUI()},_showTooltipDialog:function(){m.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.around?this.around:
this.domNode,orient:this.orient});this._isTooltipDialogOpened=!0},_hideTooltipDialog:function(){m.hide(this.tooltipDialog);this._isTooltipDialogOpened=!1},_createTooltipDialog:function(){var c=d.create("div");this.tooltipDialog=new a({content:c});d.addClass(this.tooltipDialog.domNode,"jimu-color-picker-popup-dialog");var g=new n({appearance:{showTransparent:!1,showColorPalette:!0,showCoustom:!0,showColorPickerOK:!0,showColorPickerApply:!0,showCoustomRecord:!0,closeDialogWhenChange:!0},recordUID:this.recordUID,
onChange:e.hitch(this,function(a){a&&(a=new l(a),this.setColor(a),this.onChange(a))})});g.placeAt(c);g.startup();this.own(f(g,"close",e.hitch(this,function(){this._hideTooltipDialog()})));this.own(f(g,"change-style",e.hitch(this,function(){this._hideTooltipDialog();this._showTooltipDialog()})));this.own(f(this.domNode,"click",e.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():!1!==this._ENABLE&&this._showTooltipDialog()})));this.own(f(document,
"click",e.hitch(this,function(a){this.isPartOfPopup(a.srcElement||a.target)||this._hideTooltipDialog()})));this.picker=g},setColor:function(a){if(a instanceof l){null===this.color&&!0===this.showLabel&&this._changeLabel(a);var c=a.toHex();this.color=a;d.setStyle(this.domNode,"backgroundColor",c);this.picker&&(this.picker.refreshRecords(),this.picker.setColor(c,!1,!0));this.showLabel&&this._changeLabel(this.color)}},getColor:function(){return this.color},_changeLabel:function(a){d.empty(this.domNode);
d.create("span",{innerHTML:a.toHex(),className:"color-label",style:{color:p.invertColor(a.toHex())}},this.domNode)},onChange:function(a){a&&this.showLabel&&this._changeLabel(a)},changeColor:function(){this.picker&&this.picker.changeColor();this.showLabel&&this._changeLabel(this.color)},setTitle:function(a){this.domNode.title=a},getTooltipDialog:function(){return this.tooltipDialog||null}})})},"widgets/DistanceAndDirection/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html",
"dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/DistanceAndDirection/setting/templates/ColorPickerEditor.html":'\x3cdiv class\x3d"colorPickerEditor"\x3e\r\n  \x3cdiv class\x3d"colorPicker" data-dojo-attach-point\x3d"colorPicker"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/DistanceAndDirection/setting/Setting.html":'\x3cdiv style\x3d"width:100%;height:100%;" class\x3d"nihilo"\x3e\r\n\x3cdiv class \x3d "tabConfigurationContainer"\x3e\r\n  \x3c!-- tabs --\x3e\r\n  \x3cdiv class\x3d"tabConfigurationContainer" data-dojo-attach-point\x3d"tabsContainer"\x3e\r\n      \x3cdiv class\x3d"ddfeedbackStyle-tab" data-dojo-attach-point\x3d"ddFeedbackStyleTab"\x3e\r\n          \x3cdiv\x3e\r\n              \x3ch3 class\x3d"distance-and-direction-setting-h3"\x3e${nls.feedbackStyleLabel}\x3c/h3\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"feedbackTable" class\x3d"table-feedbacks"\x3e\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"labelTable" class\x3d"table-labels"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"miscellaneous-tab" data-dojo-attach-point\x3d"miscellaneousTab"\x3e\r\n          \x3cdiv class\x3d"miscellaneousTabContainer"\x3e\r\n            \x3clabel class\x3d"opLayerlabelSettings"\x3e${nls.operationalLineLayerSelectLabel}\x3c/label\x3e\r\n            \x3cselect class\x3d"opLayerSelectSettings" data-dojo-attach-point\x3d"opLineLayerList"\x3e\x3c/select\x3e\r\n            \x3cdiv title\x3d"${nls.helpIconPolylineTooltip}" class\x3d"jimu-icon helpBtn" data-dojo-attach-point\x3d"helpLineBtn"\x3e\x3c/div\x3e\r\n\r\n            \x3clabel class\x3d"opLayerlabelSettings"\x3e${nls.operationalPolygonLayerSelectLabel}\x3c/label\x3e\r\n            \x3cselect class\x3d"opLayerSelectSettings" data-dojo-attach-point\x3d"opPolygonLayerList"\x3e\x3c/select\x3e\r\n            \x3cdiv title\x3d"${nls.helpIconPolygonTooltip}" class\x3d"jimu-icon helpBtn" data-dojo-attach-point\x3d"helpPolygonBtn"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/DistanceAndDirection/setting/css/style.css":".distance-and-direction-setting .table-feedbacks{width: 100%; height: 197px; margin-top: 15px;}.distance-and-direction-setting .table-labels{width: 100%; height: 77px; margin-top: 15px;}.distance-and-direction-setting .simple-table-row{height: 40px;}.jimu-simple-table .body-section .table-div {background-image: url(./images/table_under_line.png) !important;}.distance-and-direction-setting {margin-left: 0px;}.distance-and-direction-setting-h3 {color: #596679;}.distance-and-direction-setting-style table {color: #333333; width: 100%; border-collapse: collapse;}.distance-and-direction-setting-style th {background-color: #518dca; padding: 8px; text-align: left; color: #ffffff;}.distance-and-direction-setting-style tr {background-color: #ffffff;}.distance-and-direction-setting-style td {padding: 8px;}.settings-section tr {vertical-align: top;}.distance-and-direction-setting-line-size {width: 70px;}.distance-and-direction-setting-color-picker {width: 70px;}.distance-and-direction-setting-interval-width {border-color: #000; border-style: hidden solid solid solid; border-width: 1px; height: 10px; margin: auto;}.distance-and-direction-setting-style-map {width: 500px; height: 550px; float: left;}.distance-and-direction-setting .tabs .titles {font-weight: bold; font-family: \"Avenir Medium\"; font-size: 12px; margin: 10px 0 5px 0;}.distance-and-direction-setting .helpBtn {float: right; background: url(./images/help_black.png); background-repeat: no-repeat; background-color: transparent; width: 16px; height: 16px; margin-top: 13px; vertical-align: middle;} .jimu-rtl .distance-and-direction-setting .helpBtn {float: left; -webkit-transform: scaleX(-1); transform: scaleX(-1);} .distance-and-direction-setting .helpBtn:hover {background: url(./images/help_black_hover.png);} .distance-and-direction-setting .opLayerlabelSettings {padding: 0px; font-size: initial;} .distance-and-direction-setting .opLayerSelectSettings {height: 30px; color: #7d7d7d; padding: 0 5px 0 5px; font-size: 13px; width: 96%; font-family: 'Avenir Medium'; margin: 7px 0px 20px 0px;} .distance-and-direction-setting .DropdownLabel {line-height: 28px; padding-bottom: 5px; padding-top: 5px;} .distance-and-direction-setting .Ellipsis {overflow: hidden; text-overflow: ellipsis; white-space: nowrap;} .distance-and-direction-setting .miscellaneousTabContainer {margin: 20px; width: 50%;} .distance-and-direction-setting .miscellaneous-tab {height: 60%;} .distance-and-direction-setting .tabConfigurationContainer {width: 100%; height: 100%;} .distance-and-direction-setting .jimu-tab3 {height: 100%; overflow: hidden;} .distance-and-direction-setting .jimu-viewstack {height: calc(100% - 45px); overflow: auto;} ",
"*now":function(h){h(['dojo/i18n!*preload*widgets/DistanceAndDirection/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/query jimu/dijit/TabContainer3 jimu/BaseWidgetSetting jimu/dijit/SimpleTable jimu/LayerStructure jimu/utils dijit/form/NumberSpinner dijit/registry jimu/dijit/Message dijit/_WidgetsInTemplateMixin ./js/ColorPickerEditor dijit/ColorPalette".split(" "),function(h,k,c,e,d,f,l,a,m,n,p,q,g,r,t,u){return h([a,t],{baseClass:"distance-and-direction-setting",postCreate:function(){this.inherited(arguments);this._populateLayerSelect(this._getAllMapLayers("esriGeometryPolyline"),
this.opLineLayerList);this._populateLayerSelect(this._getAllMapLayers("esriGeometryPolygon"),this.opPolygonLayerList);var b=this.config.operationalLineLayer?this.config.operationalLineLayer.name:"";this._setSelectedOption(this.opLineLayerList,b);b=this.config.operationalPolygonLayer?this.config.operationalPolygonLayer.name:"";this._setSelectedOption(this.opPolygonLayerList,b)},startup:function(){this.tab=new l({tabs:[{title:this.nls.ddFeedbackStyleTabLabel,content:this.ddFeedbackStyleTab},{title:this.nls.miscellaneousTabLabel,
content:this.miscellaneousTab}],selected:this.nls.gridTabLabel});this.tab.placeAt(this.tabsContainer);this.tab.startup();this.inherited(arguments);var b={fields:[{name:"showTab",title:this.nls.showTabLabel,width:"16%",type:"checkbox",onChange:c.hitch(this,this._checkBoxChange),"class":"show"},{name:"index",title:"index",type:"text",hidden:!0},{name:"feedbackShape",title:this.nls.feedbackShapeLabel,width:"28%",type:"text"},{name:"lineColor",title:this.nls.lineColorLabel,create:c.hitch(this,this._createColorPicker),
setValue:c.hitch(this,this._setColorPicker),getValue:c.hitch(this,this._getColorPicker),width:"28%",type:"extension"},{name:"lineWidth",title:this.nls.lineWidthLabel,create:c.hitch(this,this._createNumberSpinner),setValue:c.hitch(this,this._setNumberSpinnerValue),getValue:c.hitch(this,this._getNumberSpinnerValue),type:"extension",width:"28%"}],selectable:!0,autoHeight:!1};this.displayFeedbackTable=new m(b);this.displayFeedbackTable.placeAt(this.feedbackTable);k.setStyle(this.displayFeedbackTable.domNode,
{height:"100%"});b={fields:[{name:"index",title:"index",type:"text",hidden:!0},{name:"feedbackLabel",title:this.nls.feedbackLabel,width:"44%",type:"text"},{name:"textColor",title:this.nls.textColorLabel,create:c.hitch(this,this._createColorPicker),setValue:c.hitch(this,this._setColorPicker),getValue:c.hitch(this,this._getColorPicker),width:"28%",type:"extension"},{name:"textSize",title:this.nls.textSizeLabel,create:c.hitch(this,this._createTextNumberSpinner),setValue:c.hitch(this,this._setNumberSpinnerValue),
getValue:c.hitch(this,this._getNumberSpinnerValue),type:"extension",width:"28%"}],selectable:!0,autoHeight:!1};this.displayLabelTable=new m(b);this.displayLabelTable.placeAt(this.labelTable);k.setStyle(this.displayLabelTable.domNode,{height:"100%"});this.setConfig(this.config)},_createColorPicker:function(b){var a=new u({nls:this.nls});a.placeAt(b);a.startup()},_getColorPicker:function(b){return g.byId(b.childNodes[0].id).getValues()},_setColorPicker:function(b,a){g.byId(b.childNodes[0].id).setValues({color:new d(a)})},
_createNumberSpinner:function(b){(new q({value:2,smallDelta:1,constraints:{min:1,max:10,places:0},style:"width:100px"})).placeAt(b)},_createTextNumberSpinner:function(b){(new q({value:12,smallDelta:1,constraints:{min:1,max:36,places:0},style:"width:100px"})).placeAt(b)},_getNumberSpinnerValue:function(b){return f(".dijitInputInner",b)[0].value},_setNumberSpinnerValue:function(b,a){f(".dijitInputInner",b)[0].value=a},setConfig:function(b){b=[{showTab:b.feedback.lineSymbol.showTab,color:b.feedback.lineSymbol.color,
width:b.feedback.lineSymbol.width},{showTab:b.feedback.circleSymbol.showTab,color:b.feedback.circleSymbol.outline.color,width:b.feedback.circleSymbol.outline.width},{showTab:b.feedback.ellipseSymbol.showTab,color:b.feedback.ellipseSymbol.outline.color,width:b.feedback.ellipseSymbol.outline.width},{showTab:b.feedback.rangeRingSymbol.showTab,color:b.feedback.rangeRingSymbol.color,width:b.feedback.rangeRingSymbol.width},{color:b.feedback.labelSymbol.color,width:b.feedback.labelSymbol.font.size}];this._setFeedbackTable([{shape:this.nls.lineLabel},
{shape:this.nls.circleLabel},{shape:this.nls.ellipseLabel},{shape:this.nls.ringsLabel}],b);this.config.hasOwnProperty("operationalLineLayer")&&""!==this.config.operationalLineLayer.name?this._setSelectedOption(this.opLineLayerList,this.config.operationalLineLayer.name):this.opLineLayerList.value="";this.config.hasOwnProperty("operationalPolygonLayer")&&""!==this.config.operationalPolygonLayer.name?this._setSelectedOption(this.opPolygonLayerList,this.config.operationalPolygonLayer.name):this.opPolygonLayerList.value=
"";this.displayLabelTable.clear();this.displayLabelTable.addRow({feedbackLabel:this.nls.feedbackLabel,index:"0",textColor:b[4].color,textSize:b[4].width})},_setSelectedOption:function(b,a){for(var c=0;c<b.options.length;c++)if(b.options[c].value===a){b.selectedIndex=c;break}},_setFeedbackTable:function(b,a){this.displayFeedbackTable.clear();for(var c=0;c<b.length;c++)this.displayFeedbackTable.addRow({feedbackShape:b[c].shape,index:""+c,showTab:a[c].showTab,lineColor:a[c].color,lineWidth:a[c].width})},
getConfig:function(){var b=this.displayFeedbackTable.getData(),a=this.displayLabelTable.getData(),c=0,d=!0;e.forEach(b,function(a){this._validateLineWidthValue(a.lineWidth)||(d=!1);a.showTab&&(c+=1)},this);if(!d||!this._validateLabelTextSizeValue(a[0].textSize))return!1;if(0!==c)return this.config.feedback={lineSymbol:{showTab:b[0].showTab,type:"esriSLS",style:"esriSLSSolid",color:b[0].lineColor,width:b[0].lineWidth},circleSymbol:{showTab:b[1].showTab,type:"esriSFS",style:"esriSFSNull",color:[255,
0,0,0],outline:{color:b[1].lineColor,width:b[1].lineWidth,type:"esriSLS",style:"esriSLSSolid"}},ellipseSymbol:{showTab:b[2].showTab,type:"esriSFS",style:"esriSFSNull",color:[255,0,0,0],outline:{color:b[2].lineColor,width:b[2].lineWidth,type:"esriSLS",style:"esriSLSSolid"}},rangeRingSymbol:{showTab:b[3].showTab,type:"esriSLS",style:"esriSLSSolid",color:b[3].lineColor,width:b[3].lineWidth},labelSymbol:{type:"esriTS",color:a[0].textColor,verticalAlignment:"middle",horizontalAlignment:"center",xoffset:0,
yoffset:0,kerning:!0,font:{family:"arial",size:a[0].textSize,style:"normal",weight:"normal",decoration:"none"}}},this.config.operationalLineLayer={name:this.opLineLayerList.value},this.config.operationalPolygonLayer={name:this.opPolygonLayerList.value},this.config;new r({message:this.nls.tabErrorMessage});return!1},_getAllMapLayers:function(a){var b=[];n.getInstance().traversal(function(c){"undefined"!==typeof c._layerInfo.layerObject.type&&-1===c._layerInfo.layerObject.type.indexOf("tile")&&c._layerInfo.layerObject.geometryType===
a&&b.push(c._layerInfo.layerObject)});return b},_validateLineWidthValue:function(a){return!isNaN(a)&&0<a&&11>a?!0:!1},_validateLabelTextSizeValue:function(a){return!isNaN(a)&&0<a&&37>a?!0:!1},_populateLayerSelect:function(a,d){var b=document.createElement("option");b.value="";b.innerHTML="";b.selected=!0;d.appendChild(b);e.forEach(a,c.hitch(this,function(a){if(a.url&&"Feature Layer"===a.type&&a.capabilities.includes("Create,Delete,Query,Update,Editing")){var b=document.createElement("option");b.value=
a.name;b.id=a.id;b.innerHTML=p.sanitizeHTML(a.name);b.selected=!1;d.appendChild(b)}}))}})});