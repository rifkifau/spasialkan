// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"jimu/dijit/EditorXssFilter":function(){define("dojo/_base/declare dojo/_base/array dijit/_WidgetBase dojo/_base/lang dojo/Evented libs/arcgis-html-sanitizer/arcgis-html-sanitizer".split(" "),function(n,f,a,h,l,q){var k=null,p=n([a,l],{baseClass:"jimu-editor-xss-filter",declaredClass:"jimu.dijit.EditorXssFilter",sanitizer:null,xss:null,whiteList:{},graphicsWhiteList:{},postCreate:function(){this.whiteList=this._getWhiteList();this.sanitizer=new q({whiteList:this.whiteList,safeAttrValue:h.hitch(this,
function(m,a,g,d){return"style"===a?this.xss.friendlyAttrValue(g).replace(/\"/g,"'"):"img"===m&&"src"===a?this.xss.escapeAttrValue(g):this.xss.safeAttrValue(m,a,g,d)}),onTag:h.hitch(this,function(m,a,g){if(g.isWhite&&this._isInWhiteList(m,this.graphicsWhiteList))return a}),onIgnoreTagAttr:h.hitch(this,function(a,e,g,d){if("data-"===e.substr(0,5))return e+'\x3d"'+this.xss.escapeAttrValue(g)+'"'}),onIgnoreTag:h.hitch(this,function(a,e,g){if("o:"===a.substr(0,2)||"!--[if"===a||"!--[endif]--"===a)return e})},
!0);this.xss=this.sanitizer.xss},sanitize:function(a){return this.sanitizer.sanitize(a)},_getWhiteList:function(){var a="title height width class style font-family id align text-align".split(" "),e={div:a,h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,span:a,p:a,s:a,strong:a,em:a,u:a,ol:a,ul:a,li:a,a:["href","target"].concat(a),img:["src","alt","border"].concat(a),blockquote:a,font:["face","size","color"].concat(a),pre:a,code:a,b:a,i:a,wbr:a,video:"autoplay controls loop muted poster preload".split(" ").concat(a),
audio:["autoplay","controls","loop","muted","preload"].concat(a),source:["media","src","type"].concat(a),table:["cellpadding","cellspacing","border"].concat(a),tbody:[].concat(a),tr:["valign"].concat(a),td:["valign","colspan","rowspan","nowrap"].concat(a),th:["valign","colspan","rowspan","nowrap"].concat(a),hr:a,html:a,title:a,link:["rel","href"],style:["type"].concat(a),body:a};this.graphicsWhiteList={animate:[],animateMotion:[],animateTransform:[],circle:[],clipPath:[],"color-profile":[],defs:[],
desc:[],discard:[],ellipse:[],feBlend:[],feColorMatrix:[],feComponentTransfer:[],feComposite:[],feConvolveMatrix:[],feDiffuseLighting:[],feDisplacementMap:[],feDistantLight:[],feDropShadow:[],feFlood:[],feFuncA:[],feFuncB:[],feFuncG:[],feFuncR:[],feGaussianBlur:[],feImage:[],feMerge:[],feMergeNode:[],feMorphology:[],feOffset:[],fePointLight:[],feSpecularLighting:[],feSpotLight:[],feTile:[],feTurbulence:[],filter:[],foreignObject:[],g:[],hatch:[],hatchpath:[],line:[],linearGradient:[],marker:[],mask:[],
mesh:[],meshgradient:[],meshpatch:[],meshrow:[],metadata:[],mpath:[],path:[],pattern:[],polygon:[],polyline:[],radialGradient:[],rect:[],set:[],solidcolor:[],stop:[],svg:[],switch:[],symbol:[],text:[],textPath:[],title:[],tspan:[],use:[],view:[],object:[],canvas:a};return this._extendObjectOfArrays([e,{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],
blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],
tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls loop preload src height width".split(" ")},this.graphicsWhiteList])},_extendObjectOfArrays:function(a){var e={};f.forEach(a,function(a){var d=Object.keys(a);f.forEach(d,function(d){Array.isArray(a[d])&&Array.isArray(e[d])?e[d]=e[d].concat(a[d]):e[d]=a[d]},
this)},this);return e},_isInWhiteList:function(a,e){e=Object.keys(e);var g=!1;f.forEach(e,function(d){a===d&&(g=!0)},this);return g}});p.getInstance=function(){null===k&&(k=new p);return k};return p})},"widgets/Splash/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Splash/Widget.html":'\x3cdiv class\x3d"jimu-widget-splash-desktop" data-dojo-attach-point\x3d"splashDesktop"\x3e\r\n  \x3cdiv class\x3d"overlay" data-dojo-attach-point\x3d"overlayNode"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"envelope buried" data-dojo-attach-point\x3d"envelopeNode"\x3e\r\n    \x3cdiv class\x3d"splash-container splash-bg" data-dojo-attach-point\x3d"splashContainerBackground"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"splash-container" data-dojo-attach-point\x3d"splashContainerNode"\x3e\r\n      \x3cdiv class\x3d"custom-content" data-dojo-attach-point\x3d"customContentNode" tabindex\x3d"0" role\x3d"document" style\x3d"font-family: \'Verdana\',\'Avenir Light\'"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"footer" data-dojo-attach-point\x3d"footerNode"\x3e\r\n        \x3cdiv class\x3d"confirmcheck-container" data-dojo-attach-point\x3d"confirmCheckContainer"\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"confirmCheck"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"jimu-btn jimu-float-trailing" data-dojo-attach-point\x3d"okNode" data-dojo-attach-event\x3d"onclick:onOkClick, onkeydown:onOkKeydown" tabindex\x3d"0"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Splash/css/style.css":".jimu-widget-splash{position: absolute !important; top: 0 !important; bottom: 0 !important; left: 0 !important; right: 0 !important; margin: auto !important; z-index: 130 !important;}.jimu-widget-splash .jimu-loading-shelter{z-index: 131;}.jimu-widget-splash .buried{visibility: hidden;}.jimu-widget-splash .overlay{top: 0; left: 0; width: 100%; height: 100%; position: absolute; background-color:rgba(0,0,0,0.5);}.jimu-widget-splash-desktop .splash-container .jimu-checkbox,.jimu-widget-splash-mobile .splash-container .jimu-checkbox{font-size: 14px; color: #fff; overflow: auto; max-height: 50px; min-height: 25px; margin-top: 20px; margin-bottom: 10px; display: block;}.jimu-widget-splash-desktop .splash-container .jimu-checkbox .label,.jimu-widget-splash-mobile .splash-container .jimu-checkbox .label{white-space: normal; text-indent: 5px; margin-left: 5px; color: #fff; float: none !important; display: inline; vertical-align: middle;}.jimu-rtl .jimu-widget-splash-desktop .splash-container .jimu-checkbox .label,.jimu-rtl .jimu-widget-splash-mobile .splash-container .jimu-checkbox .label{margin-left: auto; margin-right: 5px;}.jimu-widget-splash-desktop .envelope{}.jimu-widget-splash-desktop .envelope,.jimu-widget-splash-mobile .envelope{position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto; -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none;}.jimu-widget-splash-desktop .splash-container .jimu-btn,.jimu-widget-splash-mobile .splash-container .jimu-btn{height: 33px; padding: 0; width: 60px; line-height: 33px;}.jimu-rtl .jimu-widget-splash-desktop .splash-container .jimu-btn,.jimu-rtl .jimu-widget-splash-mobile .splash-container .jimu-btn{left: 0; right: auto;}.jimu-widget-splash-desktop .splash-container .enable-btn,.jimu-widget-splash-mobile .splash-container .enable-btn{background-color: #518dca;}.jimu-widget-splash-desktop .splash-container .disable-btn,.jimu-widget-splash-mobile .splash-container .disable-btn{background-color: #a0acbf !important; color: rgb(255, 255, 255) !important;}.jimu-widget-splash-desktop .splash-container .jimu-checkbox .checkbox,.jimu-widget-splash-mobile .splash-container .jimu-checkbox .checkbox{background-color: #fff;}.jimu-widget-splash-desktop .envelope{border: 1px solid rgba(255,255,255,0.3);}.jimu-widget-splash-desktop .splash-container,.jimu-widget-splash-desktop .splash-bg{position: absolute; display: inline-block; margin: auto; top: 0; left: 0; bottom: 0; right: 0; overflow:auto;}.jimu-widget-splash-desktop .splash-container{z-index: 1; overflow: hidden;}.jimu-widget-splash .norepeat{background: no-repeat;}.jimu-widget-splash .fill {background-size: cover !important;}.jimu-widget-splash .fit {background-size: contain !important;}.jimu-widget-splash .stretch {background-size: 100% 100% !important;}.jimu-widget-splash .center {background-size: initial !important;}.jimu-widget-splash .tile {background-size: initial !important;}.jimu-widget-splash-desktop .splash-bg{z-index: 0;}.jimu-widget-splash-desktop .custom-content{margin: 20px; color: #fff; overflow-x: hidden; overflow-y: auto;}.jimu-widget-splash-desktop .splash-container .footer{position: absolute; bottom: 10px; width: 100%;}.jimu-widget-splash .footer .confirmcheck-container{margin: 0 20px;}.jimu-widget-splash .footer .confirmcheck-container .jimu-checkbox .checkbox{margin: 2px;}.jimu-widget-splash .footer .confirmcheck-container .jimu-checkbox .dijitCheckBoxFocused{box-shadow: 0 0 0px 2px rgba(136, 176, 245, 1);}.jimu-widget-splash .footer .jimu-btn {margin: 0 20px 2px 20px;}.jimu-widget-splash .footer .jimu-btn:focus {box-shadow: 0 0 0px 2px rgba(136, 176, 245, 1);}",
"*now":function(n){n(['dojo/i18n!*preload*widgets/Splash/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/keys dojo/query dojo/cookie dijit/_WidgetsInTemplateMixin jimu/BaseWidget dojo/topic jimu/dijit/CheckBox jimu/utils esri/lang jimu/dijit/LoadingShelter dojo/Deferred jimu/dijit/EditorXssFilter".split(" "),function(n,f,a,h,l,q,k,p,m,e,g,d,r,t,u,v){return n([m,p],{baseClass:"jimu-widget-splash",_hasContent:null,_requireConfirm:null,_isClosed:!1,postCreate:function(){this.inherited(arguments);a.setAttr(this.domNode,"aria-label",
this.nls._widgetLabel);this.shelter=new t({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this.config.splash.splashContent=v.getInstance().sanitize(this.config.splash.splashContent);this._hasContent=this.config.splash&&this.config.splash.splashContent;this._requireConfirm=this.config.splash&&this.config.splash.requireConfirm;this._showOption=this.config.splash&&this.config.splash.showOption;this._confirmEverytime=this.config.splash&&this.config.splash.confirmEverytime;this._hasContent&&
(this.customContentNode.innerHTML=this.config.splash.splashContent);if(this._requireConfirm||this._showOption){var b="";this._requireConfirm?(b=this.config.splash.confirm.text,a.addClass(this.okNode,"disable-btn")):(b=this.nls.notShowAgain,a.addClass(this.okNode,"enable-btn"));this.confirmCheck=new g({label:d.stripHTML(b),checked:!1},this.confirmCheck);this.own(h(this.confirmCheck,"change",f.hitch(this,this.onCheckBoxClick)));this.confirmCheck.startup()}else a.setStyle(this.confirmCheck,"display",
"none"),a.addClass(this.okNode,"enable-btn")},onOpen:function(){if(!d.isInConfigOrPreviewWindow()){var a=this._getCookieKey(),a=k(a);r.isDefined(a)&&"false"===a.toString()&&this.close()}this._requireConfirm||this._showOption?this.confirmCheck.focus():this.okNode.focus();this._eventShow()},startup:function(){this.inherited(arguments);this.shelter.show();this._normalizeDomNodePosition();this._setConfig();this.own(h(this.domNode,"keydown",f.hitch(this,function(b){a.hasClass(b.target,this.baseClass)&&
b.keyCode===l.ESCAPE&&!this._requireConfirm&&(this.close(),d.focusOnFirstSkipLink())})));this.own(h(this.splashDesktop,"keydown",f.hitch(this,function(b){a.hasClass(b.target,"jimu-widget-splash-desktop")&&(b.keyCode===l.TAB&&b.preventDefault(),(b.keyCode===l.ENTER||!b.shiftKey&&b.keyCode===l.TAB)&&d.focusFirstFocusNode(this.domNode))})));var b=d.getFocusNodesInDom(this.domNode);d.initFirstFocusNode(this.domNode,b[0]);d.initLastFocusNode(this.domNode,this.okNode);this._onlyFocus=!0;this.own(h(this.customContentNode,
"focus",f.hitch(this,function(){this._onlyFocus?this._onlyFocus=!1:(this.customContentNode.scrollTop=0,a.setStyle(this.customContentNode,"display","none"),this.customContentNode.blur(),a.setStyle(this.customContentNode,"display","block"),setTimeout(f.hitch(this,function(){this._onlyFocus=!0;this.customContentNode.focus()}),30))})));d.setWABLogoDefaultAlt(this.customContentNode)},_setOkNodeAriaLabel:function(){var b=this.okNode.innerHTML;this._requireConfirm&&!this.confirmCheck.getValue()&&(b=b+" "+
window.jimuNls.common.disabled);a.attr(this.okNode,"aria-label",b)},_setConfig:function(){this._setWidthForOldVersion().then(f.hitch(this,function(){this._setSizeFromConfig();var b=this.config.splash.button;"undefined"!==typeof b&&("undefined"!==typeof b.color&&(a.setStyle(this.okNode,"backgroundColor",b.color),a.setStyle(this.okNode,"color",d.invertColor(b.color))),"undefined"!==typeof b.transparency&&a.setStyle(this.okNode,"opacity",1-b.transparency));this.okNode.innerHTML=this.config.splash.button.text||
this.nls.ok;a.attr(this.okNode,"title",this.config.splash.button.text||this.nls.ok);this._setOkNodeAriaLabel();var c=this.config.splash.background;if("undefined"!==typeof c)if("image"===c.mode&&"undefined"!==typeof c.image){var e=b="",b="url("+d.processUrlInWidgetConfig(c.image,this.folderUrl)+") center center ",e="no-repeat",c=c.type;"undefined"!==typeof c&&(a.addClass(this.splashContainerNode,c),"tile"===c&&(e="repeat"));a.setStyle(this.splashContainerNode,"background",b+e)}else"color"===c.mode&&
"undefined"!==typeof c.color&&("undefined"!==typeof c.color&&a.setStyle(this.splashContainerBackground,"backgroundColor",c.color),"undefined"!==typeof c.transparency&&a.setStyle(this.splashContainerBackground,"opacity",1-c.transparency));b=this.config.splash.confirm;"undefined"!==typeof b&&this.domNode&&(e=q(".label",this.domNode)[0],"undefined"!==typeof b.color&&e&&a.setStyle(e,"color",b.color),"undefined"!==typeof b.transparency&&e&&a.setStyle(e,"opacity",1-b.transparency));this.contentVertical=
"undefined"!==typeof this.config.splash.contentVertical?this.config.splash.contentVertical:"top";d.isInConfigOrPreviewWindow()||(b=this._getCookieKey(),b=k(b),r.isDefined(b)&&"false"===b.toString()&&this.close());this.resize();this.own(h(window,"resize",f.hitch(this,function(){this.resize()})));this._resizeContentImg();a.removeClass(this.envelopeNode,"buried");this.shelter.hide()}))},_normalizeDomNodePosition:function(){a.setStyle(this.domNode,"top",0);a.setStyle(this.domNode,"left",0);a.setStyle(this.domNode,
"right",0);a.setStyle(this.domNode,"bottom",0)},setPosition:function(b){this.position=b;a.place(this.domNode,window.jimuConfig.layoutId);this._normalizeDomNodePosition();this.started&&this.resize()},resize:function(){this._changeStatus()},_resizeContentImg:function(){if(this._hasContent&&!this._isClosed){var b=a.getContentBox(this.envelopeNode);a.empty(this.customContentNode);var c=a.toDom(this.config.splash.splashContent);a.place(c,this.customContentNode);this.customContentNode.nodeType&&1===this.customContentNode.nodeType&&
(c=q("img",this.customContentNode))&&c.length&&c.style({maxWidth:b.w-40-20+"px",maxHeight:b.h-40+"px"})}},_changeStatus:function(){window.appInfo.isRunInMobile?(a.setStyle(this.envelopeNode,"height","100%"),a.setStyle(this.envelopeNode,"width","100%")):this._setSizeFromConfig();this._resizeCustomContent();this._resizeContentImg()},_getNodeStylePx:function(b,c){return b&&c?parseInt(a.getStyle(b,c),10):0},_resizeCustomContent:function(){var b=a.getContentBox(this.splashContainerNode),c=this.customContentNode.scrollHeight,
d=a.getMarginBox(this.footerNode),e=this._getNodeStylePx(this.customContentNode,"margin-bottom"),f=this._getNodeStylePx(this.footerNode,"bottom"),b=b.h-(d.h+f);!0===c>=b||window.appInfo.isRunInMobile?a.setStyle(this.customContentNode,"height",b-e+"px"):(a.setStyle(this.customContentNode,"height","auto"),this._moveContentToMiddle({contentSpace:b,customContentScrollheight:c}))},_moveContentToMiddle:function(b){var c=(b.contentSpace-10)/2;"middle"===this.contentVertical&&(b=b.customContentScrollheight/
2-c,0>b?a.setStyle(this.customContentNode,"marginTop",Math.abs(b)+10+"px"):a.setStyle(this.customContentNode,"marginTop","10px"))},onCheckBoxClick:function(){this._requireConfirm&&(this.confirmCheck.getValue()?(a.addClass(this.okNode,"enable-btn"),a.removeClass(this.okNode,"disable-btn")):(a.addClass(this.okNode,"disable-btn"),a.removeClass(this.okNode,"enable-btn")),this._setOkNodeAriaLabel())},_getCookieKey:function(){return"isfirst_"+encodeURIComponent(d.getAppIdFromUrl())},onOkClick:function(){var a=
this._getCookieKey();this._requireConfirm?this.confirmCheck.getValue()&&(d.isInConfigOrPreviewWindow()||this._confirmEverytime?k(a,null,{expires:-1}):k(a,!1,{expires:1E3,path:"/"}),this.close()):(this._showOption?!d.isInConfigOrPreviewWindow()&&this.confirmCheck.getValue()&&k(a,!1,{expires:1E3,path:"/"}):k(a,null,{expires:-1}),this.close())},onOkKeydown:function(a){if(a.keyCode===l.ENTER||a.keyCode===l.SPACE)this.onOkClick(),!this._requireConfirm||this._requireConfirm&&this.confirmCheck.getValue()?
d.focusOnFirstSkipLink():a.preventDefault()},close:function(){this._isClosed=!0;this._eventHide();this.widgetManager.closeWidget(this)},_setSizeFromConfig:function(){var b=this.config.splash.size;if("undefined"!==typeof b&&"object"===typeof b){var c=b.percent,d=b.wh;"percent"===b.mode&&"undefined"!==typeof c?(a.setStyle(this.envelopeNode,"width",c),a.setStyle(this.envelopeNode,"height",c)):"wh"===b.mode&&"undefined"!==typeof d&&(this._setWidthInCurrentScreen(d),this._setHeightInCurrentScreen(d))}},
_setWidthInCurrentScreen:function(b){var c=window.innerWidth;!window.appInfo.isRunInMobile&&b.w<=c?a.setStyle(this.envelopeNode,"width",b.w+"px"):a.setStyle(this.envelopeNode,"width","100%")},_setHeightInCurrentScreen:function(b){var c=window.innerHeight;!window.appInfo.isRunInMobile&&b.h<=c?a.setStyle(this.envelopeNode,"height",b.h+"px"):a.setStyle(this.envelopeNode,"height","100%")},_setWidthForOldVersion:function(){var a=new u,c=this.config.splash.size;if(!0===("wh"===c.mode&&"undefined"!==typeof c.wh&&
null===c.wh.h))return d.getEditorContentHeight(this.config.splash.splashContent,this.domNode,{contentWidth:560,contentMarginTop:20,footerHeight:98}).then(f.hitch(this,function(a){return c.wh.h=a}));a.resolve();return a},_eventShow:function(){setTimeout(f.hitch(this,function(){e.publish("splashPopupShow")}),800)},_eventHide:function(){e.publish("splashPopupHide")}})});