// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/CostAnalysis/asset-details.html":'\x3cdiv style\x3d"height: 100%; width: 100%"\x3e\r\n  \x3cdiv style\x3d"height: 100%; width: 100%" data-dojo-attach-point\x3d"assetDetailsParent"\x3e\r\n    \x3cdiv class\x3d"esriCTContentSection"\x3e\r\n      \x3cdiv class\x3d"esriCTAssetDetailsTitle"\x3e\r\n        ${nls.workBench.assetDetailsTitle}\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTNoAssetMessage" tabindex\x3d"0" role\x3d"presentation" aria-label\x3d"${nls.workBench.noAssetAddedMsg}" data-dojo-attach-point\x3d"noAssetDetails"\x3e\r\n        ${nls.workBench.noAssetAddedMsg}\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"assetDetailsNode"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"listNode"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv style\x3d"width: 100%; float: left;"\x3e\r\n            \x3cdiv class\x3d"esriCTTotalCostTitle" title\x3d"${nls.assetDetails.totalCostTitle}"\x3e${nls.assetDetails.totalCostTitle}\x3c/div\x3e\r\n            \x3cdiv style\x3d"height: 30px;" class\x3d"esriCTEditEquationIcon" data-dojo-attach-point\x3d"additionalCostBtn" tabindex\x3d"0" role\x3d"button" aria-label\x3d"${nls.assetDetails.totalCostTitle}"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"totalProjectCost"\x3e\r\n            \x3ctable class\x3d"esriCTTable" style\x3d"width: 100%;"\x3e\r\n              \x3ctbody\x3e\r\n                \x3ctr tabindex\x3d"0"\x3e\r\n                  \x3ctd class\x3d"esriCTBoldFont esriCTAssetDetailsTotalCostLabel" data-dojo-attach-point\x3d"totalCostLabel"\x3e${nls.projectOverview.totalCostLabel}\x3c/td\x3e\r\n                  \x3ctd class\x3d"esriCTBoldFont esriCTAssetDetailsTotalCost" data-dojo-attach-point\x3d"totalCost"\x3e\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n            \x3ctable class\x3d"esriCTTable" style\x3d"width: 100%;"\x3e\r\n              \x3ctbody data-dojo-attach-point\x3d"additionalCostTable"\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n            \x3ctable class\x3d"esriCTTable" style\x3d"width: 100%;"\x3e\r\n              \x3ctbody\x3e\r\n                \x3ctr tabindex\x3d"0"\x3e\r\n                  \x3ctd class\x3d"esriCTBoldFont esriCTAssetDetailsGrossCostLabel" data-dojo-attach-point\x3d"grossCostLabel"\x3e${nls.projectOverview.grossCostLabel}\x3c/td\x3e\r\n                  \x3ctd class\x3d"esriCTBoldFont esriCTAssetDetailsGrossCost" data-dojo-attach-point\x3d"grossCost"\x3e\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                  \x3ctd style\x3d"font-weight: normal; font-style: italic;" colspan\x3d"2" data-dojo-attach-point\x3d"roundingLabel"\x3e${nls.projectOverview.roundingLabel}\x3c/td\x3e\r\n                \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTPageFooter"\x3e\r\n      \x3cdiv class\x3d"jimu-btn esriCTEllipsis" data-dojo-attach-point\x3d"okButton" tabindex\x3d"0" role\x3d"button" aria-label\x3d"${nls.common.back}"\x3e${nls.common.back}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv style\x3d"height: 100%; width: 100%" class\x3d"esriCTHidden" data-dojo-attach-point\x3d"costEquationEditorParent"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/html jimu/BaseWidget dojo/Evented dijit/_WidgetsInTemplateMixin dojo/text!./asset-details.html dojo/_base/lang dojo/dom-construct dojo/_base/array dojo/dom-class dojo/dom-attr dojo/string dojo/on dojo/query dijit/TooltipDialog dijit/popup esri/graphicsUtils ./advance-item-list ./cost-equation-editor dojo/keys dojo/_base/event dijit/focus jimu/utils".split(" "),function(B,C,D,E,F,G,h,c,t,n,f,y,g,l,H,z,I,J,K,k,p,u,w){return B([D,E,F],{templateString:G,baseClass:"jimu-widget-cost-analysis-asset-details",
_layerDetailsNode:{},_layerIndexes:[],_openGroups:{},postCreate:function(){this.inherited(arguments);this._layerDetailsNode={};this._openGroups={};this.listData=[];this._layerIndexes=[];t.forEach(this.config.layerSettings,h.hitch(this,function(a){if(a.editable&&this.map.getLayer(a.id)){var b;this._openGroups[a.id]=[];this._layerDetailsNode[a.id]=c.create("div");b={title:this.map.getLayer(a.id).name,content:this._layerDetailsNode[a.id],icon:"",actionIcon:"",isOpen:!1,isHidden:!0};this.listData.push(b);
this._layerIndexes.push(a.id)}}))},startup:function(){this.inherited(arguments);this._initItemList();this._initCostEquationEditor();this.own(g(document.body,"click",h.hitch(this,function(a){this.isPartOfPopup(a.target||a.srcElement)||this._closePopupDialog()})));this.own(g(this.okButton,"click",h.hitch(this,function(){this.emit("onOkButtonClicked")})));this.own(g(this.okButton,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE)p.stop(a),this.emit("onOkButtonClicked")})));
this.own(g(this.additionalCostBtn,"click",h.hitch(this,function(){this.emit("showAdditionalCost")})));this.own(g(this.additionalCostBtn,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE)p.stop(a),this.emit("showAdditionalCost")})))},reset:function(){for(var a in this._openGroups)this._openGroups[a]=[]},_initItemList:function(){var a;this.itemList=new J({itemList:this.listData,showArrow:!0,togglePanels:!0,openMultiple:!0,setAutoHeight:!0,highlighter:!0,highlighterColor:this.config.selectedThemeColor,
widgetDomNode:this.widgetDomNode,nls:this.nls},c.create("div",{},this.listNode));this.own(g(this.itemList,"onActionButtonClicked",h.hitch(this,function(a){this.emit("actionClicked",a)})));this.own(g(this.itemList,"onTitleClicked",h.hitch(this,function(a){this.emit("titleClicked",a)})));this.own(g(this.itemList,"onLoad",h.hitch(this,function(){this.emit("onLoad")})));this.itemList.startup();a=this._createTooltipDialogContent();this.assetDetailsDialog=new H({"class":this.baseClass,content:a,style:"width : 180px"})},
_createTooltipDialogContent:function(){var a,b,d;a=c.create("div",{},null);b=c.create("div",{style:"height : 20px; margin: 0px"},a);b=c.create("div",{"class":"esriCTDialogIcon esriCTClose",title:this.nls.workBench.closeDialog,tabindex:"0",role:"button","aria-label":this.nls.workBench.closeDialog},b);this.own(g(b,"click",h.hitch(this,this._closePopupDialog)));this.own(g(b,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE||a.keyCode===k.ESCAPE)p.stop(a),this._closePopupDialog()})));
b=c.create("div",{"class":"esriCTRowContainer",title:this.nls.workBench.zoomToAsset,tabindex:"0",role:"button","aria-label":this.nls.workBench.zoomToAsset},a);d=c.create("div",{"class":"esriCTRowContainer",title:this.nls.workBench.deleteAsset,tabindex:"0",role:"button","aria-label":this.nls.workBench.deleteAsset},a);c.create("div",{"class":"esriCTDialogIcon esriCTZoom"},b);c.create("div",{"class":"esriCTTooltipDialogLabel esriCTEllipsis",innerHTML:this.nls.workBench.zoomToAsset},b);this.own(g(b,"click",
h.hitch(this,function(a){p.stop(a);this._zoomToAsset();this._support508ToPopupDialog();u.focus(a.currentTarget)})));this.own(g(b,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE)p.stop(a),this._zoomToAsset(),this._support508ToPopupDialog(),u.focus(a.currentTarget);a.keyCode===k.ESCAPE&&(p.stop(a),this._closePopupDialog())})));c.create("div",{"class":"esriCTDialogIcon esriCTDelete"},d);c.create("div",{"class":"esriCTTooltipDialogLabel",innerHTML:this.nls.workBench.deleteAsset},
d);this.own(g(d,"click",h.hitch(this,this._deleteAsset)));this.own(g(d,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE)p.stop(a),this._deleteAsset();a.keyCode===k.ESCAPE&&(p.stop(a),this._closePopupDialog())})));return a},_zoomToAsset:function(){var a,b;this.selectedRowInfo&&(a=this.assetDetails[this.selectedRowInfo.layerId][this.selectedRowInfo.templateName][this.selectedRowInfo.region][this.selectedRowInfo.scenario],b=this.layerInfosObj.getLayerInfoById(this.selectedRowInfo.layerId).layerObject.objectIdField,
a&&t.some(a,h.hitch(this,function(a){if(a.attributes[b].toString()===this.selectedRowInfo.objectId)return this.map.setExtent(I.graphicsExtent([a]).expand(1.5)),!0})))},_deleteAsset:function(){if(this.selectedRowInfo){var a,b;a=this.map.getLayer(this.selectedRowInfo.layerId);(b=this.assetDetails[this.selectedRowInfo.layerId][this.selectedRowInfo.templateName][this.selectedRowInfo.region][this.selectedRowInfo.scenario])&&t.some(b,h.hitch(this,function(b){if(b.attributes[a.objectIdField].toString()===
this.selectedRowInfo.objectId)return b._layer=a,a.applyEdits(null,null,[b]),!0}));this._closePopupDialog()}},_rowClick:function(a){a.stopPropagation();a.preventDefault();l(".esriCTRowSelected",this.assetDetailsNode).removeClass("esriCTRowSelected");n.add(a.currentTarget,"esriCTRowSelected");this.selectedRowInfo={};this.selectedRowInfo.templateName=f.get(a.currentTarget,"templateName");this.selectedRowInfo.region=f.get(a.currentTarget,"region");this.selectedRowInfo.scenario=f.get(a.currentTarget,"scenario");
this.selectedRowInfo.layerId=f.get(a.currentTarget,"layerId");this.selectedRowInfo.objectId=f.get(a.currentTarget,"objectId");this._openPopupDialog(this.assetDetailsDialog,a)},_createExpandCollapseButton:function(a,b,d,m){a=c.create("div",{"class":"esriCTToggleIcon",tabindex:"-1",role:"button","aria-label":m,"aria-expanded":"false"},a);-1===this._openGroups[d].indexOf(b)?n.add(a,"esriCTExpandIcon"):n.add(a,"esriCTCollapseIcon");f.set(a,"groupId",b);f.set(a,"layerId",d);this.own(g(a,"click",h.hitch(this,
function(a){this.expandCollapseBtnClicked(a)})));this.own(g(a,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE)p.stop(a),this.expandCollapseBtnClicked(a)})));return a},expandCollapseBtnClicked:function(a){var b,d,m;b=f.get(a.currentTarget,"groupId");d=f.get(a.currentTarget,"layerId");m=l("[tableGroupId \x3d "+b.replace(/"/g,'\\"')+"]",this.assetDetailsNode)[0];n.contains(a.currentTarget,"esriCTCollapseIcon")?(n.replace(a.currentTarget,"esriCTExpandIcon","esriCTCollapseIcon"),
n.add(m,"esriCTHidden"),this._openGroups[d].splice(this._openGroups[d].indexOf(b),1),this._TabIndexToAssetDetailsTableRows(a,"-1"),f.set(a.currentTarget,"aria-expanded","false")):(n.replace(a.currentTarget,"esriCTCollapseIcon","esriCTExpandIcon"),n.remove(m,"esriCTHidden"),this._openGroups[d].push(b),this._TabIndexToAssetDetailsTableRows(a,"0"),f.set(a.currentTarget,"aria-expanded","true"))},_createEditEquationButton:function(a,b,d){a=c.create("div",{"class":"esriCTEditEquationIcon",tabindex:"-1",
role:"button","aria-label":d+this.nls.common.edit+this.nls.workBench.costEquationTitle},a);f.set(a,"templateName",b.templateName);f.set(a,"region",b.regionName);f.set(a,"scenario",b.scenario);f.set(a,"layerId",b.layerId);f.set(a,"equation",b.equation);this.own(g(a,"click",h.hitch(this,function(a){this._editEquationBtnClicked(a)})));this.own(g(a,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE)p.stop(a),this._editEquationBtnClicked(a)})));return a},_editEquationBtnClicked:function(a){var b=
{};this.currentEditEquationBtn=a.currentTarget;n.add(a.currentTarget,"esriCTEditEquationBtnClicked");b.templateName=f.get(a.currentTarget,"templateName");b.region=f.get(a.currentTarget,"region");b.scenario=f.get(a.currentTarget,"scenario");b.layerId=f.get(a.currentTarget,"layerId");b.equation=f.get(a.currentTarget,"equation");n.add(this.assetDetailsParent,"esriCTHidden");n.remove(this.costEquationEditorParent,"esriCTHidden");this._costEquationEditor&&this._costEquationEditor.setGroupInfo(b)},_createAssetDetailsTable:function(a,
b,d,m){var e,r,v,l,x=0,q=0,A;A=this.layerInfosObj.getLayerInfoById(m.layerId).layerObject.objectIdField;e=c.create("table",{style:{width:"100%"},"class":"esriCTTable"},a);-1===this._openGroups[m.layerId].indexOf(b)&&n.add(e,"esriCTHidden");f.set(e,"tableGroupId",b);r=c.create("tbody",{},e);"point"!==d[0].geometry.type?(l=this.appUtils.getUnitsAbbreviation(d[0].geometry.type,this.config.generalSettings.measurementUnit),b="polygon"===d[0].geometry.type?this.nls.statisticsType.areaLabel:this.nls.statisticsType.lengthLabel):
(l=this.nls.workBench.units,b=this.nls.statisticsType.countLabel);v=c.create("tr",{},r);c.create("td",{innerHTML:this.nls.workBench.objectIdColTitle},v);c.create("td",{innerHTML:b},v);c.create("td",{innerHTML:this.nls.workBench.costColTitle},v);t.forEach(d,h.hitch(this,function(a){var b,e;e=c.create("tr",{"class":"esriCTSelectableRow",tabindex:"-1",role:"button"},r);b=a.featureDimension;f.set(e,"templateName",m.templateName);f.set(e,"region",m.regionName);f.set(e,"scenario",m.scenario);f.set(e,"layerId",
m.layerId);f.set(e,"objectId",a.attributes[A]);this.own(g(e,"click",h.hitch(this,this._rowClick)));this.own(g(e,"keydown",h.hitch(this,function(a){if(a.keyCode===k.ENTER||a.keyCode===k.SPACE)p.stop(a),this._rowClick(a)})));"point"!==d[0].geometry.type&&(b=this.appUtils.applyRounding(b));c.create("td",{innerHTML:a.attributes[A]},e);c.create("td",{innerHTML:b+" "+l},e);b=this.config.generalSettings.currency+" "+this.appUtils.applyRounding(a.individualCost);c.create("td",{innerHTML:b,"class":"esriCTAssetItemDetailsCostingValue"},
e);x+=a.individualCost;q+=a.featureDimension}));"point"!==d[0].geometry.type&&(q=this.appUtils.applyRounding(q));this._addAriaLableToRows(e);a=c.create("table",{style:{width:"100%"},"class":"esriCTTable"},a);a=c.create("tr",{"class":"esriCTGroupSummaryTotalRow",tabindex:"-1","aria-label":"Total "+b+" "+q+" "+l+" Total "+this.nls.workBench.costColTitle+" "+x},c.create("tbody",{},a));c.create("td",{"class":"esriCTGroupSummaryTotalTitle",innerHTML:"Total:"},a);c.create("td",{innerHTML:q+" "+l},a);x=
this.config.generalSettings.currency+" "+this.appUtils.applyRounding(x);c.create("td",{innerHTML:x,"class":"esriCTGroupSummaryTotalCost"},a)},showAssetDetails:function(a,b){var d,m=!1,e;this.assetDetails=a;for(var r in this._layerDetailsNode)if(d=this._layerIndexes.indexOf(r),c.empty(this._layerDetailsNode[r]),this.itemList.hide(d),a.hasOwnProperty(r))for(var v in a[r])for(var g in a[r][v])for(var l in a[r][v][g]){var q,k,p,u;e=g;q=l;var t;t=v+" ";k=a[r][v][g][l];0<k.length&&(m={templateName:v,regionName:g,
scenario:l,layerId:r,equation:k[0].templateInfo.COSTEQUATION},"null"===e?e=this.nls.scenarioSelection.noneText:t+=y.substitute(this.nls.assetDetails.inGeography,{geography:e}),"null"===q?q=this.nls.scenarioSelection.noneText:t+=y.substitute(this.nls.assetDetails.withScenario,{scenario:q}),q=r+" - "+v+" - "+e+" - "+q,q=h.trim(q),p=c.create("div",{"class":"esriCTGroupSummary"},this._layerDetailsNode[r]),u=c.create("div",{"class":"esriCTGroupTitleParent"},p),e=y.substitute(this.nls.statisticsType.expandCollapseAriaLabel,
{displayTitle:t,featureCount:k.length}),this._createExpandCollapseButton(u,q,r,e),c.create("div",{"class":"esriCTGroupTitle",innerHTML:t+"("+k.length+")"},u),this._createEditEquationButton(u,m,t),this._createAssetDetailsTable(p,q,k,m),this.itemList.show(d),m=!0)}m?(n.add(this.noAssetDetails,"esriCTHidden"),f.set(this.noAssetDetails,"tabindex","-1"),this.emit("onAssetDeleted",!1)):(n.remove(this.noAssetDetails,"esriCTHidden"),f.set(this.noAssetDetails,"tabindex","0"),this.emit("onAssetDeleted",!0));
setTimeout(h.hitch(this,function(){b&&this.setFirstAndLastNode()}),500)},_openPopupDialog:function(a,b){"keydown"===b.type?z.open({popup:a,around:b.currentTarget}):z.open({popup:a,x:b.pageX,y:b.pageY});this._support508ToPopupDialog()},_closePopupDialog:function(){var a=l(".esriCTRowSelected",this.assetDetailsNode);z.close(this.assetDetailsDialog);a&&0<a.length&&(u.focus(a[0]),a.removeClass("esriCTRowSelected"))},_initCostEquationEditor:function(){this._costEquationEditor||(this._costEquationEditor=
new K({nls:this.nls,map:this.map,config:this.config,appUtils:this.appUtils,widgetDomNode:this.widgetDomNode},c.create("div",{},this.costEquationEditorParent)),this.own(g(this._costEquationEditor,"onOkButtonClicked",h.hitch(this,function(a){this.emit("groupCostEquationUpdated",a);n.add(this.costEquationEditorParent,"esriCTHidden");n.remove(this.assetDetailsParent,"esriCTHidden");this.setFirstAndLastNode();this._focusCurrentEquationEditorBtn()}))),this.own(g(this._costEquationEditor,"onCancelButtonClicked",
h.hitch(this,function(){n.add(this.costEquationEditorParent,"esriCTHidden");n.remove(this.assetDetailsParent,"esriCTHidden");this.setFirstAndLastNode();this._focusCurrentEquationEditorBtn()}))),this._costEquationEditor.startup())},isPartOfPopup:function(a){var b;b=this.assetDetailsDialog.domNode;return a===b||C.isDescendant(a,b)},grossCostUpdated:function(a,b,d){b=this.appUtils.roundProjectCostValue(this.config.generalSettings.roundCostType,b);b=this.config.generalSettings.currency+" "+b;f.set(this.grossCost,
"innerHTML",b);this._updateAdditionalCostTable(a,d);a=this.grossCostLabel.innerHTML.replace("*",this.nls.projectOverview.roundingLabel);f.set(this.grossCostLabel,"aria-label",a.replace("*",""))},totalCostUpdated:function(a){a=this.appUtils.roundProjectCostValue(this.config.generalSettings.roundCostType,a);a=this.config.generalSettings.currency+" "+a;f.set(this.totalCost,"innerHTML",a);a=this.totalCostLabel.innerHTML.replace("*",this.nls.projectOverview.roundingLabel);f.set(this.totalCostLabel,"aria-label",
a.replace("*",""))},_updateAdditionalCostTable:function(a,b){var d,m;c.empty(this.additionalCostTable);if(this.config.projectCostSettings&&0<this.config.projectCostSettings.length||0<b.length)for(d=c.create("th"),f.set(d,"role","heading"),d.appendChild(c.create("td",{innerHTML:this.nls.assetDetails.additionalCostLabel})),d.appendChild(c.create("td",{innerHTML:this.nls.assetDetails.additionalCostValue})),d.appendChild(c.create("td",{innerHTML:this.nls.assetDetails.additionalCostNetValue})),this.additionalCostTable.appendChild(d),
d=0;d<b.length;d++){var e,h,g;h=c.create("tr",{tabindex:"0"});e=b[d];m=parseFloat(e.value);switch(e.type){case "+":g=a+=m;break;case "_":g=a-=m;break;case "*":g=a*=m;break;case "%":g=a+=a*m/100}g=this.appUtils.roundProjectCostValue(this.config.generalSettings.roundCostType,g);g=this.config.generalSettings.currency+" "+g;h.appendChild(c.create("td",{innerHTML:e.label}));h.appendChild(c.create("td",{innerHTML:e.value}));h.appendChild(c.create("td",{innerHTML:g,"class":"esriCTAssetItemDetailsNetValue"}));
f.set(h,"aria-label",this.nls.assetDetails.additionalCostLabel+" "+e.label+" "+this.nls.assetDetails.additionalCostValue+" "+e.value+" "+this.nls.assetDetails.additionalCostNetValue+" "+g);this.additionalCostTable.appendChild(h)}},_focusCurrentEquationEditorBtn:function(){var a=l(".esriCTEditEquationBtnClicked",this.domNode);a&&0<a.length&&(u.focus(a[0]),n.remove(this.currentEditEquationBtn,"esriCTEditEquationBtnClicked"))},setFirstAndLastNode:function(a){var b,d,c,e,f,g,k,p;k=0;n.contains(this.noAssetDetails,
"esriCTHidden")?(b=l(".esriCTItem",this.assetDetailsNode))&&0<b.length&&b.forEach(h.hitch(this,function(a){"none"!==a.style.display&&(k||(k=1,w.initFirstFocusNode(this.widgetDomNode,a.children[0]),u.focus(a.children[0])),d=l(".esriCTItemTitle",a)[0],c=l(".esriCTItemContent",a)[0],e=l(".esriCTToggleIcon",a),f=l(".esriCTEditEquationIcon",a),g=l(".esriCTSelectableRow",a),p=l(".esriCTGroupSummaryTotalRow",a),d&&c&&(n.contains(c,"esriCTItemContentActive")?(this.itemList._setTabIndexToNodes(e,"0"),this.itemList._setTabIndexToNodes(f,
"0"),this.itemList._setTabIndexToNodes(g,"0"),this.itemList._setTabIndexToNodes(p,"0")):(this.itemList._setTabIndexToNodes(e,"-1"),this.itemList._setTabIndexToNodes(f,"-1"),this.itemList._setTabIndexToNodes(g,"-1"),this.itemList._setTabIndexToNodes(p,"-1"))))})):(u.focus(this.noAssetDetails),w.initFirstFocusNode(this.widgetDomNode,this.noAssetDetails));w.initLastFocusNode(this.widgetDomNode,this.okButton);a&&!n.contains(this.costEquationEditorParent,"esriCTHidden")&&this._costEquationEditor._add508SupportCostEquationEditor()},
_support508ToPopupDialog:function(){var a=l(".esriCTDialogIcon",this.assetDetailsDialog.domNode);a&&0<a.length&&(w.initFirstFocusNode(a[0]),u.focus(a[0]),w.initLastFocusNode(a[2]))},_TabIndexToAssetDetailsTableRows:function(a,b){var d=l(".esriCTSelectableRow",a.currentTarget.parentNode.parentNode);a=l(".esriCTGroupSummaryTotalRow",a.currentTarget.parentNode.parentNode);d&&0<d.length&&t.forEach(d,h.hitch(this,function(a){f.set(a,"tabindex",b)}));a&&0<a.length&&t.forEach(a,h.hitch(this,function(a){f.set(a,
"tabindex",b)}))},_addAriaLableToRows:function(a){for(var b=a.rows[0].cells[1].innerHTML,d=1;d<a.rows.length;d++){for(var c=this.nls.workBench.objectIdColTitle,e=0;e<a.rows[d].cells.length;e++)0===e&&(c=c+" "+a.rows[d].cells[e].innerHTML),1===e&&(c=c+" "+b+" "+a.rows[d].cells[e].innerHTML),2===e&&(c=c+" "+this.nls.workBench.costColTitle+" "+a.rows[d].cells[e].innerHTML);f.set(a.rows[d],"aria-label",c)}}})});