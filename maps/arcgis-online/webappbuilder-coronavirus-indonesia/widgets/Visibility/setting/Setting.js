// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/dijit/util/busyIndicator":function(){define("dijit/registry dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-construct dojox/widget/Standby require".split(" "),function(t,h,l,q,p,r,v){var f={_defaultStandbyParams:{image:v.toUrl("../images/loading-throb.gif"),color:"#fff",opacity:.75,duration:200},create:function(a){if(a=this._normalizeParams(a))return a=new r(f._toStandbyParams(a)),p.place(a.domNode,l.doc.body),f._createHandle(a)},_normalizeParams:function(a){if(a){if(a.target)return a;
if("string"===typeof a){var c=t.byId(a);a=c?c.domNode:q.byId(a)}else a=a.domNode?a.domNode:q.byId(a);if(a)return{target:a}}},_toStandbyParams:function(a){a.imageUrl&&(a.image=a.imageUrl);a.backgroundColor&&(a.color=a.backgroundColor);a.backgroundOpacity&&(a.opacity=a.backgroundOpacity);a.fadeDuration&&(a.duration=a.fadeDuration);return h.mixin({},f._defaultStandbyParams,a)},_createHandle:function(a){return{show:function(){a&&a.show()},hide:function(){a&&a.hide()},destroy:function(){a&&(a.destroy(),
a=null)}}}};return f})},"dojox/widget/Standby":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/window dojo/_base/window dojo/_base/fx dojo/fx dijit/_Widget dijit/_TemplatedMixin dijit/registry".split(" "),function(t,h,l,q,p,r,v,f,a,c,z,m,w,x,y,A,k){t.experimental("dojox.widget.Standby");return h("dojox.widget.Standby",[y,A],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),
imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:.75,templateString:'\x3cdiv\x3e\x3cdiv style\x3d"display: none; opacity: 0; z-index: 9999; position: absolute; cursor:wait;" dojoAttachPoint\x3d"_underlayNode"\x3e\x3c/div\x3e\x3cimg src\x3d"${image}" style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;" dojoAttachPoint\x3d"_imageNode"\x3e\x3cdiv style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;" dojoAttachPoint\x3d"_textNode"\x3e\x3c/div\x3e\x3c/div\x3e',
_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:!1,_resizeCheck:null,_started:!1,_parent:null,startup:function(b){if(!this._started){if("string"===typeof this.target){var a=k.byId(this.target);this.target=a?a.domNode:r.byId(this.target)}this.text&&(this._textNode.innerHTML=this.text);"image"===this.centerIndicator?(this._centerNode=this._imageNode,v.set(this._imageNode,"src",this.image),v.set(this._imageNode,"alt",this.imageText)):this._centerNode=this._textNode;c.set(this._underlayNode,
{display:"none",backgroundColor:this.color});c.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");this.domNode.parentNode&&this.domNode.parentNode!=m.body()&&m.body().appendChild(this.domNode);7==p("ie")&&(this._ieFixNode=f.create("div"),c.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}),m.body().appendChild(this._ieFixNode));this.inherited(arguments)}},show:function(){this._displayed||(this._anim&&(this._anim.stop(),delete this._anim),
this._displayed=!0,this._size(),this._disableOverflow(),this._fadeIn())},hide:function(){if(this._displayed)try{this._anim&&(this._anim.stop(),delete this._anim),this._size()}catch(b){console.error(b)}finally{this._fadeOut(),this._displayed=!1,null!==this._resizeCheck&&(clearInterval(this._resizeCheck),this._resizeCheck=null)}},isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=!1;this._resizeCheck&&clearInterval(this._resizeCheck);
c.set(this._centerNode,"display","none");c.set(this._underlayNode,"display","none");7==p("ie")&&this._ieFixNode&&(m.body().removeChild(this._ieFixNode),delete this._ieFixNode);this._anim&&(this._anim.stop(),delete this._anim);this._centerNode=this._textNode=this._imageNode=this.target=null;this.inherited(arguments)},_size:function(){if(this._displayed){var b=v.get(m.body(),"dir");b&&(b=b.toLowerCase());var n,k=this._scrollerWidths(),e=this.target,g=c.get(this._centerNode,"display");c.set(this._centerNode,
"display","block");var d=a.position(e,!0);if(e===m.body()||e===m.doc)d=z.getBox(),d.x=d.l,d.y=d.t;var h=a.getMarginBox(this._centerNode);c.set(this._centerNode,"display",g);this._ieFixNode&&(n=-this._ieFixNode.offsetTop/1E3,d.x=Math.floor((d.x+.9)/n),d.y=Math.floor((d.y+.9)/n),d.w=Math.floor((d.w+.9)/n),d.h=Math.floor((d.h+.9)/n));var f=c.get(e,"zIndex"),l=g=f;if("auto"===this.zIndex)if("auto"!=f)g=parseInt(g,10),l=parseInt(l,10);else{var u=e;if(u&&u!==m.body()&&u!==m.doc)for(u=e.parentNode,n=-1E5;u&&
u!==m.body();)(f=c.get(u,"zIndex"))&&"auto"!==f&&(f=parseInt(f,10),n<f&&(n=f,g=f+1,l=f+1)),u=u.parentNode}else g=parseInt(this.zIndex,10),l=parseInt(this.zIndex,10);c.set(this._centerNode,"zIndex",l);c.set(this._underlayNode,"zIndex",g);if((g=e.parentNode)&&g!==m.body()&&e!==m.body()&&e!==m.doc){u=d.h;l=d.w;e=a.position(g,!0);this._ieFixNode&&(n=-this._ieFixNode.offsetTop/1E3,e.x=Math.floor((e.x+.9)/n),e.y=Math.floor((e.y+.9)/n),e.w=Math.floor((e.w+.9)/n),e.h=Math.floor((e.h+.9)/n));e.w-=g.scrollHeight>
g.clientHeight&&0<g.clientHeight?k.v:0;e.h-=g.scrollWidth>g.clientWidth&&0<g.clientWidth?k.h:0;"rtl"===b&&(p("opera")?(d.x+=g.scrollHeight>g.clientHeight&&0<g.clientHeight?k.v:0,e.x+=g.scrollHeight>g.clientHeight&&0<g.clientHeight?k.v:0):p("ie")?e.x+=g.scrollHeight>g.clientHeight&&0<g.clientHeight?k.v:0:p("webkit"));e.w<d.w&&(d.w-=e.w);e.h<d.h&&(d.h-=e.h);var q=e.y,r=e.y+e.h,t=d.y,w=d.y+u,b=e.x;n=e.x+e.w;var f=d.x,x=d.x+l;if(w>q&&t<q)d.y=e.y,u-=q-t,d.h=u<e.h?u:d.h-2*(g.scrollWidth>g.clientWidth&&
0<g.clientWidth?k.h:0);else if(t<r&&w>r)d.h=r-t;else if(w<=q||t>=r)d.h=0;if(x>b&&f<b)d.x=e.x,l-=b-f,d.w=l<e.w?l:d.w-2*(g.scrollHeight>g.clientHeight&&0<g.clientHeight?k.w:0);else if(f<n&&x>n)d.w=n-f;else if(x<=b||f>=n)d.w=0}0<d.h&&0<d.w?(c.set(this._underlayNode,{display:"block",width:d.w+"px",height:d.h+"px",top:d.y+"px",left:d.x+"px"}),k=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],this._cloneStyles(k),p("ie")||(k="MozBorderRadius MozBorderRadiusTopleft MozBorderRadiusTopright MozBorderRadiusBottomleft MozBorderRadiusBottomright WebkitBorderRadius WebkitBorderTopLeftRadius WebkitBorderTopRightRadius WebkitBorderBottomLeftRadius WebkitBorderBottomRightRadius".split(" "),
this._cloneStyles(k,this)),k=d.h/2-h.h/2,g=d.w/2-h.w/2,d.h>=h.h&&d.w>=h.w?c.set(this._centerNode,{top:k+d.y+"px",left:g+d.x+"px",display:"block"}):c.set(this._centerNode,"display","none")):(c.set(this._underlayNode,"display","none"),c.set(this._centerNode,"display","none"));if(null===this._resizeCheck){var y=this;this._resizeCheck=setInterval(function(){y._size()},100)}}},_cloneStyles:function(b){l.forEach(b,function(b){c.set(this._underlayNode,b,c.get(this.target,b))},this)},_fadeIn:function(){var b=
this,a=w.animateProperty({duration:b.duration,node:b._underlayNode,properties:{opacity:{start:0,end:b.opacity}}}),k=w.animateProperty({duration:b.duration,node:b._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){b.onShow();delete b._anim}});this._anim=x.combine([a,k]);this._anim.play()},_fadeOut:function(){var b=this,a=w.animateProperty({duration:b.duration,node:b._underlayNode,properties:{opacity:{start:b.opacity,end:0}},onEnd:function(){c.set(this.node,{display:"none",zIndex:"-1000"})}}),
k=w.animateProperty({duration:b.duration,node:b._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){c.set(this.node,{display:"none",zIndex:"-1000"});b.onHide();b._enableOverflow();delete b._anim}});this._anim=x.combine([a,k]);this._anim.play()},_ignore:function(b){b&&q.stop(b)},_scrollerWidths:function(){var b=f.create("div");c.set(b,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var k=f.create("div");
c.set(k,{width:"200px",height:"10px"});b.appendChild(k);m.body().appendChild(b);k=a.getContentBox(b);c.set(b,"overflow","scroll");var h=a.getContentBox(b);m.body().removeChild(b);return{v:k.w-h.w,h:k.h-h.h}},_setTextAttr:function(b){this.text=this._textNode.innerHTML=b},_setColorAttr:function(b){c.set(this._underlayNode,"backgroundColor",b);this.color=b},_setImageTextAttr:function(b){v.set(this._imageNode,"alt",b);this.imageText=b},_setImageAttr:function(b){v.set(this._imageNode,"src",b);this.image=
b},_setCenterIndicatorAttr:function(b){this.centerIndicator=b;"image"===b?(this._centerNode=this._imageNode,c.set(this._textNode,"display","none")):(this._centerNode=this._textNode,c.set(this._imageNode,"display","none"))},_setTargetAttr:function(b){if("string"===typeof b){var a=k.byId(b);this._set("target",a?a.domNode:r.byId(b))}else this._set("target",b)},_disableOverflow:function(){if(this.target===m.body()||this.target===m.doc){this._overflowDisabled=!0;var b=m.body();this._oldOverflow=b.style&&
b.style.overflow?c.get(b,"overflow"):"";if(p("ie")&&!p("quirks")){if(b.parentNode&&b.parentNode.style&&b.parentNode.style.overflow)this._oldBodyParentOverflow=b.parentNode.style.overflow;else try{this._oldBodyParentOverflow=c.get(b.parentNode,"overflow")}catch(n){this._oldBodyParentOverflow="scroll"}c.set(b.parentNode,"overflow","hidden")}c.set(b,"overflow","hidden")}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var b=m.body();p("ie")&&!p("quirks")&&(b.parentNode.style.overflow=
this._oldBodyParentOverflow,delete this._oldBodyParentOverflow);c.set(b,"overflow",this._oldOverflow);if(p("webkit")){var a=f.create("div",{style:{height:"2px"}});b.appendChild(a);setTimeout(function(){b.removeChild(a)},0)}delete this._oldOverflow}}})})},"widgets/Visibility/js/PrivilegeUtil":function(){define("dojo/_base/declare dojo/_base/lang jimu/portalUtils jimu/portalUrlUtils jimu/Role esri/lang".split(" "),function(t,h,l,q,p,r){var v=null,f=t([],{userRole:null,userPortalUrl:null,portalAnalysis:null,
portalSelf:null,portalUrl:null,_isServiceAvailable:!1,constructor:function(a){this.portalUrl=a},_clearLoadedInfo:function(){this.portalUrl=this.portalSelf=this.userPortalUrl=this.userRole=null},loadPrivileges:function(a){this.portalSelf=this.userPortalUrl=this.userRole=null;this._isServiceAvailable=!1;a&&(this.portalUrl=a);a=l.getPortal(this.portalUrl);return a.haveSignIn()?this._loadUserInfo(a):this._signIn(a)},getPortalUrl:function(a){return a?q.getStandardPortalUrl(a):this.portalUrl?q.getStandardPortalUrl(this.portalUrl):
q.getStandardPortalUrl(this.appConfig.portalUrl)},_privilegeLoaded:function(){return null!==this.portalSelf},getUserPortal:function(){return this._privilegeLoaded()?this.getPortalUrl(this.userPortalUrl):null},_signIn:function(a){return a.loadSelfInfo().then(h.hitch(this,function(a){var c=l.getPortal(a.portalHostname);return null===c?!1:c.signIn().then(h.hitch(this,function(a){return this._loadUserInfo(c,a)}),function(){return!1})}),function(){return!1})},_loadUserInfo:function(a){return a.loadSelfInfo().then(h.hitch(this,
function(a){this.userPortalUrl=a.urlKey?a.urlKey+"."+a.customBaseUrl:this.portalUrl;return a&&a.user?(this.userRole=new p({id:a.user.roleId?a.user.roleId:a.user.role,role:a.user.role}),a.user.privileges&&this.userRole.setPrivileges(a.user.privileges),this.portalSelf=a,!0):!1}),function(){return!1})},_canPerformElevationAnalysis:function(){this.portalSelf&&(this._isServiceAvailable=r.isDefined(this.portalSelf.helperServices.elevation));return this.canPerformAnalysis()&&this._isServiceAvailable},canPerformAnalysis:function(){var a=
!1;this.userRole&&(this.userRole.isAdmin()||this.userRole.isPublisher())?a=!0:this.userRole&&this.userRole.isCustom()&&(a=this.userRole.canCreateItem()&&this.userRole.canPublishFeatures()&&this.userRole.canUseSpatialAnalysis());this.portalSelf&&this.portalSelf.isPortal&&(a=a&&r.isDefined(this.portalSelf.helperServices.analysis)&&r.isDefined(this.portalSelf.helperServices.analysis.url));return a}});f.getInstance=function(a){null===v&&(v=new f(a));return v};return f})},"widgets/Visibility/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html",
"dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Visibility/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"url-section"\x3e\r\n    \x3cdiv class\x3d"label jimu-float-leading" title\x3d"${nls.portalURL}"\x3e${nls.portalURL}\x3c/div\x3e\r\n    \x3cdiv class\x3d"service-browser jimu-float-trailing"\x3e\r\n      \x3ctable cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"width:100%;border-collapse:collapse;"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd style\x3d"width:auto;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"urlTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d\'required:true, spellcheck:false, regExp: dojox.validate.regexp.url\'\r\n                style\x3d"width:100%;height:35px;padding-top:0px;"\x3e\x3c/div\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd style\x3d"width:75px;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"setButton" class\x3d"jimu-btn jimu-float-trailing"\x3e${nls.setTask}\x3c/div\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"error-section hide-section" data-dojo-attach-point\x3d"errorNode"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper" style\x3d"padding: 5px 0px 5px 0px;"\x3e\r\n      \x3cinput class\x3d"switch-toggle" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"angleUnits" checked\x3d"false" /\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultMilsForAnglesLabel}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObserverHeightLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observerHeightUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObservableDistanceLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observableDistanceUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"opLayerlabelSettings"\x3e${nls.selectOperationalLayerLabel}\x3c/div\x3e\r\n    \x3cselect class\x3d"opLayerSelectSettings" data-dojo-attach-point\x3d"opLayerList" aria-label\x3d"selectOpLayerLabel"\x3e\x3c/select\x3e\r\n    \x3cdiv title\x3d"${nls.helpIconTooltip}" class\x3d"jimu-icon helpBtn" data-dojo-attach-point\x3d"helpBtn" aria-label\x3d"${nls.helpIconTooltip}" \r\n      tabindex\x3d"0" role\x3d"tooltip"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/css/style.css":'.jimu-widget-visibility-setting {height: 100%; overflow: hidden; font-size: 14px;}.jimu-widget-visibility-setting .dijitReset .dijitInputInner {padding-top: 6px !important;}.jimu-popup .title-label {font-size: inherit;}.jimu-widget-visibility-setting .section.common-property {overflow: hidden;}.jimu-widget-visibility-setting .url-section {position: relative; height: 40px;}.jimu-widget-visibility-setting .url-section .label {left: 0; top: 5px; height: 36px; width: 100%; position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .service-browser {width: 100%; padding-bottom: 10px;}.jimu-widget-visibility-setting .error-section {color: red; padding-left: 4px;}.jimu-rtl .jimu-widget-visibility-setting .error-section {padding-right: 14px;}.jimu-widget-visibility-setting .hide-section {visibility: hidden;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-detail {overflow: hidden; position: relative; height: 100%;}.jimu-widget-visibility-setting .nav-pane {width: 250px; height: 100%; overflow-x: hidden; overflow-y: auto;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node {background-color: #fafafc; border: 1px solid #d2dae2; border-radius: 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node,.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {margin-top: 10px; height: 35px;}.jimu-widget-visibility-setting .nav-pane .nav-pane-node {padding: 7px; vertical-align: middle;}.jimu-widget-visibility-setting .nav-pane .link-action-node {cursor: pointer;}.jimu-widget-visibility-setting .nav-pane .link-action-node span {white-space: nowrap;}.jimu-widget-visibility-setting .nav-pane .param-node {padding: 5px 5px 5px 15px; border-top: 1px solid #d2dae2;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentInner {padding: 0;}.jimu-widget-visibility-setting .link-action-node.jimu-state-active {background-color: #e3ecf2; border-left: 3px solid #15A4FA; padding-left: 12px;}.jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentOuter {border-radius: 0 0 4px 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {background-color: #6f7e95; color: #fff; border: 1px solid #6f7e95; border-radius: 4px 4px 0 0; background-image: linear-gradient(#6f7e95 0%, #6f7e95 100%);}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleFocus {margin-top: 7px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen .dijitArrowNode {background-image: url("images/focusArrow.png");}.jimu-widget-visibility-setting .setting-pane {overflow-x: hidden; overflow-y: auto; height: 100%; width: 685px;}.jimu-widget-visibility-setting .field {position: relative; overflow: hidden;}.jimu-widget-visibility-setting .field label {width: 115px; display: inline-block; overflow: hidden; text-overflow: ellipsis;}.jimu-widget-visibility-setting .common-property .field {height: 36px; margin-top: 10px;}.jimu-widget-visibility-setting .common-property .field label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .field label.visibleLabel {position: relative; top: 20%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .jimu-checkbox {width: 115px;}.jimu-widget-visibility-setting .common-property .jimu-checkbox.visibleCheck {width: 20px; margin-left: 0;}.jimu-widget-visibility-setting .common-property .field .common-input {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto}.jimu-widget-visibility-setting .special-property .field {height: 20px; margin-top: 5px;}.jimu-widget-visibility-setting .special-property .jimu-gp-editor-base {display: block;}.jimu-widget-visibility-setting .special-property .input-label {margin: 10px 0px; display: inline-block;}.jimu-widget-visibility-setting .special-property .change-editor {margin: 10px; text-decoration: underline; cursor: pointer;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 100px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 0; margin-right: 100px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 50px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 0; margin-right: 50px;}.jimu-widget-visibility-setting .jimu-widget-visibility-setting-layer-order {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node {overflow: hidden; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node .order {float: left;}.jimu-widget-visibility-setting .layer-node .label {float: left;}.jimu-widget-visibility-setting .layer-node .order-btn {cursor: pointer;}.jimu-widget-visibility-setting .layer-node:first-child .up {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .layer-node:last-child .down {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field {margin-top: 10px; height: 36px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field label {width: auto;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto;}.jimu-gp-editor-chooser .editor-node {display: inline-block; width: 165px; margin-left: 15px;}.jimu-gp-editor-chooser .editor-node .node-box {width: 100%; height: 105px; line-height: 105px; border: 1px solid #D4DCE3; text-align: center; position: relative; cursor: pointer;}.jimu-gp-editor-chooser img {vertical-align: middle;}.jimu-gp-editor-chooser .editor-node .node-label {display: inline-block; margin-top: 10px; width: 100%; text-align: center; overflow: hidden;}.jimu-gp-editor-chooser .editor-node.jimu-state-selected .node-box {border: 2px solid #15A4FA;}.jimu-rtl .jimu-widget-visibility-setting .url-section .label {right: 0;}.jimu-rtl .jimu-widget-visibility-setting .common-property .field .common-input {right: 115px; left: 10px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {left: 10px; right: 115px;}.jimu-widget-visibility-setting .param-node {border-left: 0; border-right: 0; position: relative;}.jimu-widget-visibility-setting .param-node .action-group {position: absolute; width: 5px; height: 20px; left: 5px; top: 5px; background-image: none; background-repeat: no-repeat; background-position: -22px -101px; cursor: move;}.jimu-widget-visibility-setting .dojoDndItemOver .action-group {background-image: url(images/ago_sprite.png);}.jimu-widget-visibility-setting .dojoDndItemOver .action-group:hover {background-position: -38px -101px;}.jimu-rtl .jimu-widget-visibility-setting .param-node .action-group {left: auto; right: 5px;}.dojoDndAvatarHeader {display: none;}.dojoDndAvatarItem {display: block;}.jimu-widget-visibility-setting .switch-toggle-group {padding: 5px;}.jimu-widget-visibility-setting .switch-toggle-group .checkbox-inline {padding-left: 36px; vertical-align: top;}.jimu-widget-visibility-setting .switch-toggle-group .switch-toggle.dijitCheckBox {margin-left: -36px;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; float: left; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: left;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-visibility-setting .esriCTWrapper {width: 100%; overflow: hidden; padding: 5px 5px;}.jimu-widget-visibility-setting .esriCTLabel {width: 30%; padding: 5px 10px 5px 0px; word-break: break-word; float: left; font-size: 14px;}.jimu-widget-visibility-setting .esriCTDijitWrapper {width: 70%; float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTLabel {float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTDijitWrapper {float: left;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: right}.jimu-widget-visibility-setting .opLayerSelectSettings {height: 30px; color: #7d7d7d; padding: 0 5px 0 5px; font-size: 13px; width: 56%; font-family: \'Avenir Medium\'; margin: 7px 0px 20px 0px;}.jimu-widget-visibility-setting .helpBtn {background: url(./images/help_black.png); background-repeat: no-repeat; background-color: transparent; width: 16px; height: 16px; vertical-align: middle; margin-left: 5px;}.jimu-rtl .jimu-widget-visibility-setting .helpBtn {-webkit-transform: scaleX(-1); transform: scaleX(-1); margin-right: 5px;}.jimu-widget-visibility-setting .helpBtn:hover {background: url(./images/help_black_hover.png);}',
"*now":function(t){t(['dojo/i18n!*preload*widgets/Visibility/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dojo/dom-attr dojo/query dojo/keys dojo/Deferred dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/dijit/Message esri/dijit/util/busyIndicator ../js/PrivilegeUtil dojo/_base/array jimu/LayerStructure jimu/utils dijit/form/ValidationTextBox".split(" "),function(t,h,l,q,p,r,v,f,a,c,z,m,w,x,y,A){return t([c,a],{baseClass:"jimu-widget-visibility-setting",hasError:!1,postMixInProperties:function(){this.inherited(arguments);h.mixin(this.nls,
window.jimuNls.common);h.mixin(this.nls,window.jimuNls.units)},postCreate:function(){var a=[],b;x.forEach("meters kilometers miles feet yards nauticalMiles".split(" "),h.hitch(this,function(k){b={value:k,label:this.nls.units[k]};a.push(b)}));this.observerHeightUnit.addOption(a);this.observableDistanceUnit.addOption(h.clone(a));this.observerHeightUnit.set("value","meters");this.observableDistanceUnit.set("value","kilometers");this._populateLayerSelect(this._getAllMapLayers(),this.opLayerList);this._setSelectedOption(this.opLayerList,
this.config.operationalLayer?this.config.operationalLayer.name:"")},startup:function(){this.inherited(arguments);this.own(q(this.urlTextBox,"keypress",h.hitch(this,this.urlChanged)));this.own(q(this.setButton,"click",h.hitch(this,this.setButtonClicked)));this.setConfig(this.config);this.busyIndicator=m.create({target:this.domNode.parentNode,backgroundOpacity:0});this.config.operationalLayer||(this.config.operationalLayer={});this.config.operationalLayer.hasOwnProperty("name")||""!==this.config.operationalLayer.name||
(this.opLayerList.value="");this._startValidationProcess()},urlChanged:function(a){this._diasableOk();l.remove(this.setButton,"jimu-state-disabled");a.charOrCode===v.ENTER&&this._startValidationProcess()},setButtonClicked:function(){this._startValidationProcess()},setConfig:function(a){var b=this.appConfig.portalUrl;a.portalUrl&&(b=a.portalUrl);this.urlTextBox.set("value",b,!1);a.hasOwnProperty("defaultObserverHeightUnit")&&this.observerHeightUnit.set("value",a.defaultObserverHeightUnit);a.hasOwnProperty("defaultObservableDistanceUnit")&&
this.observableDistanceUnit.set("value",a.defaultObservableDistanceUnit);a.hasOwnProperty("defaultAngleUnits")&&this.angleUnits.setValue(a.defaultAngleUnits)},getConfig:function(){return this.hasError?!1:{portalUrl:this.urlTextBox.get("value"),defaultObserverHeightUnit:this.observerHeightUnit.get("value"),defaultObservableDistanceUnit:this.observableDistanceUnit.get("value"),defaultAngleUnits:this.angleUnits.getValue(),operationalLayer:{name:this.opLayerList.value}}},validateUrl:function(a){var b=
new f;this.privilegeUtil=w.getInstance(a);this.privilegeUtil.loadPrivileges(a).then(h.hitch(this,function(){b.resolve(this._validatePrivileges())}),h.hitch(this,function(){this._showError();b.reject()}));return b.promise},_configurePortalURL:function(a){var b=new f;a&&this.validateUrl(a).then(h.hitch(this,function(a){a?b.resolve():b.reject()}),h.hitch(this,function(){b.reject()}));return b.promise},_startValidationProcess:function(){if(this.urlTextBox.isValid()){this.busyIndicator.show();var a=this.urlTextBox.get("value");
this._configurePortalURL(a).then(h.hitch(this,function(){l.add(this.setButton,"jimu-state-disabled");l.add(this.errorNode,"hide-section");this._enableOk();this.busyIndicator.hide()}),h.hitch(this,function(){this.busyIndicator.hide();this._showError(this.nls.portalURLError)}))}else this.busyIndicator.hide(),this._showError(this.nls.portalURLError)},_validatePrivileges:function(){return this.privilegeUtil._canPerformElevationAnalysis()?!0:!1},_showError:function(a){a||(a=this.nls.privilegeError,this.privilegeUtil._isServiceAvailable||
(a=this.nls.noServiceError));new z({message:a});p.set(this.errorNode,"innerHTML",a);l.remove(this.errorNode,"hide-section");this._diasableOk()},_enableOk:function(){var a=r(".button-container")[0];a&&a.children&&3<a.children.length&&(l.remove(a.children[0],"jimu-state-disabled"),this.hasError=!1)},_diasableOk:function(){var a=r(".button-container")[0];a&&a.children&&3<a.children.length&&(l.add(a.children[0],"jimu-state-disabled"),this.hasError=!0)},_populateLayerSelect:function(a,b){var c=document.createElement("option");
c.value="";c.innerHTML="";c.selected=!0;b.appendChild(c);x.forEach(a,h.hitch(this,function(a){if(a.url&&"Feature Layer"===a.type&&a.capabilities.includes("Create,Delete,Query,Update,Editing")){var c=document.createElement("option");c.value=a.name;c.innerHTML=A.sanitizeHTML(a.name);c.selected=!1;b.appendChild(c)}}))},_getAllMapLayers:function(){var a=[];y.getInstance().traversal(function(b){"undefined"!==typeof b._layerInfo.layerObject.type&&-1===b._layerInfo.layerObject.type.indexOf("tile")&&"esriGeometryPolygon"===
b._layerInfo.layerObject.geometryType&&a.push(b._layerInfo.layerObject)});return a},_setSelectedOption:function(a,b){for(var c=0;c<a.options.length;c++)if(a.options[c].value===b){a.selectedIndex=c;break}}})});